(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[3460],{86434:function(T,g,t){"use strict";t.d(g,{F:function(){return m}});var e=t(32735),a=t(96192),o=t(67879),f=t(20108);const m=(r={},p={})=>{const{id:l="",...i}=r,{get:s}=(0,a.kY)(),{locale:c}=(0,o.Z)(),v=(0,a.Xe)(c,{sensitivity:"base"}),{data:d,error:u,isError:n,isLoading:y,refetch:S}=(0,f.useQuery)(["roles",l,i],async()=>{const{data:P}=await s(`/admin/roles/${l??""}`,{params:i});return P},p);return{roles:e.useMemo(()=>{let P=[];return d&&(Array.isArray(d.data)?P=d.data:P=[d.data]),[...P].sort((C,W)=>v.compare(C.name,W.name))},[d,v]),error:u,isError:n,isLoading:y,refetch:S}}},80006:function(T,g,t){"use strict";t.d(g,{G:function(){return m}});var e=t(32735),a=t(96192),o=t(59177),f=t(20108);function m(){const{get:r}=(0,a.kY)(),{formatAPIError:p}=(0,a.So)(),l=(0,a.lm)(),i=(0,f.useQueries)([{queryKey:["content-manager","components"],async queryFn(){const{data:{data:n}}=await r("/content-manager/components");return n},onError(n){n instanceof o.d7&&l({type:"warning",message:p(n)})}},{queryKey:["content-manager","content-types"],async queryFn(){const{data:{data:n}}=await r("/content-manager/content-types");return n},onError(n){n instanceof o.d7&&l({type:"warning",message:p(n)})}}]),[s,c]=i,v=s.isLoading||c.isLoading,d=e.useMemo(()=>(c?.data??[]).filter(n=>n.kind==="collectionType"&&n.isDisplayed),[c?.data]),u=e.useMemo(()=>(c?.data??[]).filter(n=>n.kind!=="collectionType"&&n.isDisplayed),[c?.data]);return{isLoading:v,components:e.useMemo(()=>s?.data??[],[s?.data]),collectionTypes:d,singleTypes:u}}},61234:function(T,g,t){"use strict";t.d(g,{v:function(){return o}});var e=t(32735),a=t(40986);function o(f,m){const r=(0,a.oR)();(0,e.useEffect)(()=>{r.injectReducer(f,m)},[r,f,m])}},98866:function(T,g,t){"use strict";t.d(g,{q:function(){return f}});var e=t(32735),a=t(96192),o=t(20108);function f({enabled:m}={enabled:!0}){const{get:r}=(0,a.kY)(),{data:p,isError:l,isLoading:i}=(0,o.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:v}}=await r("/admin/license-limit-information");return v},{enabled:m}),s=e.useMemo(()=>p??{},[p]),c=e.useCallback(v=>(s?.features??[]).find(u=>u.name===v)?.options??{},[s?.features]);return{license:s,getFeature:c,isError:l,isLoading:i}}},77061:function(T,g,t){"use strict";t.d(g,{CI:function(){return r},ES:function(){return a},FP:function(){return i},Js:function(){return c},Lk:function(){return d},Mu:function(){return l},PP:function(){return f},Pz:function(){return v},_V:function(){return m},fC:function(){return o},rI:function(){return s},wt:function(){return u},xn:function(){return p}});var e=t(2121);function a(n){return{type:e.bc,payload:{id:n}}}function o({workflow:n}){return{type:e.qZ,payload:n}}function f({workflows:n}){return{type:e.QM,payload:n}}function m(n){return{type:e.x4,payload:{stageId:n}}}function r(n={}){return{type:e.Ot,payload:n}}function p(n,y){return{type:e.Nj,payload:{stageId:n,...y}}}function l(n){return{type:e.k_,payload:n}}function i(n,y){return{type:e.$k,payload:{newIndex:y,oldIndex:n}}}function s(n){return{type:e.VS,payload:n}}function c(){return{type:e.gu}}function v(n){return{type:e.yq,payload:n}}function d(n){return{type:e.zn,payload:n}}function u(n){return{type:e.rg,payload:n}}},27187:function(T,g,t){"use strict";t.d(g,{eJ:function(){return A},lx:function(){return C},h4:function(){return O},fC:function(){return W}});var e=t(32735),a=t(99226),o=t(95162),f=t(56932),m=t(64092),r=t(96192),p=t(70788),l=t(67879),i=t(61575),s=t(2121),c=t(84642),v=t(8365),d=t(91917),u=t(60216),n=t.n(u),y=t(8471);const S=(0,y.ZP)(c.k)`
  svg path {
    fill: ${({theme:w})=>w.colors.neutral600};
  }
`;function x({name:w}){return e.createElement(c.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,r.Q1)(300)},e.createElement(S,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},e.createElement(d.Z,{width:`${8/16}rem`})),e.createElement(v.Z,{fontWeight:"bold"},w))}x.propTypes={name:n().string.isRequired};function P({type:w,item:R}){switch(w){case s.uL.STAGE:return e.createElement(x,{...R});default:return null}}function C(){return e.createElement(i.r,{renderItem:P})}function W({children:w}){return e.createElement(a.A,null,e.createElement(o.o,{tabIndex:-1},e.createElement(f.D,null,w)))}function A({href:w}){const{formatMessage:R}=(0,l.Z)();return e.createElement(r.rU,{startIcon:e.createElement(p.Z,null),to:w},R({id:"global.back",defaultMessage:"Back"}))}function O({title:w,subtitle:R,navigationAction:I,primaryAction:B}){return e.createElement(e.Fragment,null,e.createElement(r.SL,{name:w}),e.createElement(m.T,{navigationAction:I,primaryAction:B,title:w,subtitle:R}))}},90562:function(T,g,t){"use strict";t.d(g,{uT:function(){return P},fC:function(){return A},Dx:function(){return x}});var e=t(32735),a=t(8365),o=t(84642),f=t(21223),m=t(87674),r=t(77981),p=t(14763),l=t(90431),i=t(98610),s=t(60216),c=t.n(s),v=t(67879),d=t(8471),u=t.p+"0cd5f8915b265d5b1856.png";const n="limits-title",y="https://strapi.io/pricing-cloud",S="https://strapi.io/contact-sales";function x({children:O}){return e.createElement(a.Z,{variant:"alpha",id:n},O)}x.propTypes={children:c().node.isRequired};function P({children:O}){return e.createElement(a.Z,{variant:"omega"},O)}P.propTypes={children:c().node.isRequired};function C(){const{formatMessage:O}=(0,v.Z)();return e.createElement(o.k,{gap:2,paddingTop:4},e.createElement(l.Q,{variant:"default",isExternal:!0,href:y},O({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),e.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:S},O({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const W=d.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:O})=>`-${O.spaces[7]}`};
  margin-top: ${({theme:O})=>`-${O.spaces[7]}`};
  width: 360px;
`;function A({children:O,isOpen:w,onClose:R}){const{formatMessage:I}=(0,v.Z)();return w?e.createElement(f.P,{labelledBy:n},e.createElement(m.f,null,e.createElement(o.k,{gap:2,paddingLeft:7,position:"relative"},e.createElement(o.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},O,e.createElement(C,null)),e.createElement(o.k,{justifyContent:"end",height:"100%",width:"40%"},e.createElement(W,{src:u,"aria-hidden":!0,alt:"",loading:"lazy"}),e.createElement(r.x,{display:"flex",position:"absolute",right:0,top:0},e.createElement(p.h,{icon:e.createElement(i.Z,null),"aria-label":I({id:"global.close",defaultMessage:"Close"}),onClick:R})))))):null}A.defaultProps={isOpen:!1},A.propTypes={children:c().node.isRequired,isOpen:c().bool,onClose:c().func.isRequired}},45594:function(T,g,t){"use strict";t.d(g,{U:function(){return ae}});var e=t(32735),a=t(77981),o=t(84642),f=t(96192),m=t(60216),r=t.n(m),p=t(67879),l=t(40986),i=t(8471),s=t(77061),c=t(8365),v=t(3042);const d=(0,i.ZP)(v.Z)`
  > circle {
    fill: ${({theme:E})=>E.colors.neutral150};
  }
  > path {
    fill: ${({theme:E})=>E.colors.neutral600};
  }
`,u=(0,i.ZP)(a.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:E})=>E.spaces[6]};
    width: ${({theme:E})=>E.spaces[6]};

    > path {
      fill: ${({theme:E})=>E.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:E})=>E.colors.primary600} !important;
    ${c.Z} {
      color: ${({theme:E})=>E.colors.primary600} !important;
    }

    ${d} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }

  &:active {
    ${c.Z} {
      color: ${({theme:E})=>E.colors.primary600};
    }

    ${d} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }
`;function n({children:E,...$}){return e.createElement(u,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...$},e.createElement(o.k,{gap:2},e.createElement(d,{"aria-hidden":!0}),e.createElement(c.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},E)))}n.propTypes={children:r().node.isRequired};var y=t(74323),S=t(14763),x=t(99320),P=t(9435),C=t(9379),W=t(79624),A=t(10710),O=t(97037),w=t(2846),R=t(4987),I=t(49086),B=t(98202),G=t(75322),H=t(37405),Z=t(94958),K=t(92802),V=t(51968),X=t(69242),M=t(69997),b=t(2121),z=t(46111),k=t(68886);const J=(0,i.ZP)(y.ML)`
  padding-left: ${({theme:E})=>E.spaces[7]};
`,q=(0,i.ZP)(o.k)`
  > * {
    flex-grow: 1;
  }
`,Ee=(0,i.ZP)(I.sN)`
  color: ${({theme:E})=>E.colors.danger600};
`,ve=(0,i.ZP)(B.xz)`
  :hover,
  :focus {
    background-color: ${({theme:E})=>E.colors.neutral100};
  }

  > span {
    font-size: 0;
  }
`,he=(0,i.ZP)(S.h)`
  align-items: center;
  border-radius: ${({theme:E})=>E.borderRadius};
  display: flex;
  justify-content: center;

  :hover,
  :focus {
    background-color: ${({theme:E})=>E.colors.neutral100};
  }

  svg {
    height: auto;
    width: ${({theme:E})=>E.spaces[3]}};
  }
`,ye=(0,k.s)();function we(){return e.createElement(a.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function ce({id:E,index:$,canDelete:j,canReorder:re,canUpdate:U,isOpen:se=!1,stagesCount:Q}){const Y=h=>`${h+1} of ${Q}`,ee=h=>{te(D({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:N.value,position:Y(h)}))},Se=h=>{te(D({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:N.value,position:Y(h)}))},Me=()=>{te(D({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:N.value}))},Oe=(h,L)=>{te(D({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:N.value,position:Y(h)})),F((0,s.FP)(L,h))},Pe=()=>{ie(!0)},[de,te]=e.useState(null),{formatMessage:D}=(0,p.Z)(),{trackUsage:Ce}=(0,f.rS)(),F=(0,l.I0)(),Ae=(0,f.lm)(),[le,xe]=e.useState(se),[Re,ie]=e.useState(!1),[N,ue,De]=(0,K.U$)(`stages.${$}.name`),[ne,fe,We]=(0,K.U$)(`stages.${$}.color`),[_,me,Ie]=(0,K.U$)(`stages.${$}.permissions`),Le=(0,l.v9)(z.g$),[{handlerId:ke,isDragging:be,handleKeyDown:Be},$e,Ze,Ue,ge]=(0,X.Y9)(re,{index:$,item:{name:N.value},onGrabItem:ee,onDropItem:Se,onMoveItem:Oe,onCancel:Me,type:b.uL.STAGE}),Ke=(0,M.FE)($e,Ze),Ne=ye.map(({hex:h,name:L})=>({value:h,label:D({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:L}),color:h})),{themeColorName:je}=(0,k.k)(ne.value)??{},pe=Le.filter(h=>h.code!=="strapi-super-admin");return e.useEffect(()=>{ge((0,V.rX)(),{captureDraggingState:!1})},[ge,$]),e.createElement(a.x,{ref:Ke},de&&e.createElement(x.T,{"aria-live":"assertive"},de),be?e.createElement(we,null):e.createElement(P.U,{size:"S",variant:"primary",onToggle:()=>{xe(!le),le||Ce("willEditStage")},expanded:le,shadow:"tableShadow",error:ue.error??fe?.error??me?.error??!1,hasErrorMessage:!1},e.createElement(C.B,{title:N.value,togglePosition:"left",action:(j||U)&&e.createElement(o.k,null,e.createElement(B.fC,null,e.createElement(ve,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},e.createElement(G.Z,{"aria-hidden":!0,focusable:!1}),e.createElement(x.T,{as:"span"},D({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),e.createElement(B.VY,{popoverPlacement:"bottom-end",zIndex:2},e.createElement(B.rl,null,U&&e.createElement(I.sN,{onClick:()=>F((0,s.ES)(E))},D({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),j&&e.createElement(Ee,{onClick:()=>F((0,s._V)(E))},D({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),U&&e.createElement(he,{background:"transparent",forwardedAs:"div",hasRadius:!0,role:"button",noBorder:!0,tabIndex:0,"data-handler-id":ke,ref:Ue,label:D({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:h=>h.stopPropagation(),onKeyDown:Be},e.createElement(H.Z,null)))}),e.createElement(W.v,{padding:6,background:"neutral0",hasRadius:!0},e.createElement(A.r,{gap:4},e.createElement(O.P,{col:6},e.createElement(w.o,{...N,id:N.name,disabled:!U,label:D({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:ue.error??!1,onChange:h=>{De.setValue(h.target.value),F((0,s.xn)(E,{name:h.target.value}))},required:!0})),e.createElement(O.P,{col:6},e.createElement(R.q4,{disabled:!U,error:fe?.error??!1,id:ne.name,required:!0,label:D({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:h=>{We.setValue(h),F((0,s.xn)(E,{color:h}))},value:ne.value.toUpperCase(),startIcon:e.createElement(o.k,{as:"span",height:2,background:ne.value,borderColor:je==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},Ne.map(({value:h,label:L,color:oe})=>{const{themeColorName:Fe}=(0,k.k)(oe);return e.createElement(R.ag,{value:h,key:h,startIcon:e.createElement(o.k,{as:"span",height:2,background:oe,borderColor:Fe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},L)}))),e.createElement(O.P,{col:6},pe.length===0?e.createElement(f.X0,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:_.name}):e.createElement(o.k,{alignItems:"flex-end",gap:3},e.createElement(q,{grow:1},e.createElement(y.NU,{..._,disabled:!U,error:me.error??!1,id:_.name,label:D({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:h=>{const L=h.map(oe=>({role:parseInt(oe,10),action:"admin::review-workflows.stage.transition"}));Ie.setValue(L),F((0,s.xn)(E,{permissions:L}))},placeholder:D({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(_.value??[]).map(h=>`${h.role}`),withTags:!0},[{label:D({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:pe.map(h=>({value:`${h.id}`,label:h.name}))}].map(h=>"children"in h?e.createElement(y.Ab,{key:h.label,label:h.label,values:h.children.map(L=>L.value)},h.children.map(L=>e.createElement(J,{key:L.value,value:L.value},L.label))):e.createElement(y.ML,{key:h.value,value:h.value},h.label)))),e.createElement(S.h,{disabled:!U,icon:e.createElement(Z.Z,null),label:D({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}),size:"L",variant:"secondary",onClick:()=>Pe(_.value)})))))),e.createElement(f.QH.Root,{iconRightButton:null,isOpen:Re,onToggleDialog:()=>ie(!1),onConfirm:()=>{F((0,s.Mu)({permissions:_.value})),ie(!1),Ae({type:"success",message:D({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})},variantRightButton:"primary"},e.createElement(f.QH.Body,null,e.createElement(c.Z,{textAlign:"center",variant:"omega"},D({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}ce.propTypes=r().shape({id:r().number.isRequired,color:r().string.isRequired,canDelete:r().bool.isRequired,canReorder:r().bool.isRequired,canUpdate:r().bool.isRequired,stagesCount:r().number.isRequired}).isRequired;const Te=(0,i.ZP)(a.x)`
  transform: translateX(-50%);
`;function ae({canDelete:E,canUpdate:$,stages:j}){const{formatMessage:re}=(0,p.Z)(),U=(0,l.I0)(),{trackUsage:se}=(0,f.rS)();return e.createElement(o.k,{direction:"column",gap:6,width:"100%"},e.createElement(a.x,{position:"relative",spacing:4,width:"100%"},e.createElement(Te,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),e.createElement(o.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},j.map((Q,Y)=>{const ee=Q?.id??Q.__temp_key__;return e.createElement(a.x,{key:`stage-${ee}`,as:"li"},e.createElement(ce,{id:ee,index:Y,isOpen:!Q.id,canDelete:j.length>1&&E,canReorder:j.length>1,canUpdate:$,stagesCount:j.length}))}))),$&&e.createElement(n,{type:"button",onClick:()=>{U((0,s.CI)({name:""})),se("willCreateStage")}},re({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}ae.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},ae.propTypes={canDelete:r().bool,canUpdate:r().bool,stages:r().arrayOf(r().shape({id:r().number,__temp_key__:r().number,name:r().string.isRequired}))}},165:function(T,g,t){"use strict";t.d(g,{Y:function(){return x}});var e=t(32735),a=t(74323),o=t(8365),f=t(10710),m=t(97037),r=t(2846),p=t(96192),l=t(92802),i=t(60216),s=t.n(i),c=t(67879),v=t(40986),d=t(8471),u=t(77061),n=t(46111);const y=(0,d.ZP)(a.ML)`
  padding-left: ${({theme:P})=>P.spaces[7]};
`,S=(0,d.ZP)(o.Z)`
  font-style: italic;
`;function x({canUpdate:P}){const{formatMessage:C,locale:W}=(0,c.Z)(),A=(0,v.I0)(),{collectionTypes:O,singleTypes:w}=(0,v.v9)(n.HK),R=(0,v.v9)(n.DV),I=(0,v.v9)(n.D6),[B,G,H]=(0,l.U$)("name"),[Z,K,V]=(0,l.U$)("contentTypes"),X=(0,p.Xe)(W,{sensitivity:"base"});return e.createElement(f.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},e.createElement(m.P,{col:6},e.createElement(r.o,{...B,id:B.name,disabled:!P,label:C({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:G.error??!1,onChange:M=>{A((0,u.rI)({name:M.target.value})),H.setValue(M.target.value)},required:!0})),e.createElement(m.P,{col:6},e.createElement(a.NU,{...Z,customizeContent:M=>C({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:M.length}),disabled:!P,error:K.error??!1,id:Z.name,label:C({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:M=>{A((0,u.rI)({contentTypes:M})),V.setValue(M)},placeholder:C({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...O.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...O].sort((M,b)=>X.compare(M.info.displayName,b.info.displayName)).map(M=>({label:M.info.displayName,value:M.uid}))}]:[],...w.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...w].map(M=>({label:M.info.displayName,value:M.uid}))}]:[]].map(M=>"children"in M?e.createElement(a.Ab,{key:M.label,label:M.label,values:M.children.map(b=>b.value.toString())},M.children.map(b=>{const{name:z}=I.find(k=>(R&&k.id!==R.id||!R)&&k.contentTypes.includes(b.value))??{};return e.createElement(y,{key:b.value,value:b.value},C({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:b.label,name:z,em:(...k)=>e.createElement(o.Z,{as:"em",fontWeight:"bold"},k),i:(...k)=>e.createElement(S,null,k)}))})):e.createElement(a.ML,{key:M.value,value:M.value},M.label)))))}x.defaultProps={canUpdate:!0},x.propTypes={canUpdate:s().bool}},2121:function(T,g,t){"use strict";t.d(g,{$k:function(){return u},Ef:function(){return P},FT:function(){return S},Nj:function(){return v},Ot:function(){return s},QM:function(){return l},VS:function(){return n},_X:function(){return C},bc:function(){return c},gu:function(){return o},k_:function(){return d},lv:function(){return y},qZ:function(){return p},rg:function(){return m},sN:function(){return a},uL:function(){return x},x4:function(){return i},yq:function(){return f},zn:function(){return r}});var e=t(41865);const a="settings_review-workflows",o="Settings/Review_Workflows/RESET_WORKFLOW",f="Settings/Review_Workflows/SET_CONTENT_TYPES",m="Settings/Review_Workflows/SET_IS_LOADING",r="Settings/Review_Workflows/SET_ROLES",p="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",s="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",c="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",v="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",d="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",u="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",n="Settings/Review_Workflows/WORKFLOW_UPDATE",y={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},S=e.W.colors.primary600,x={STAGE:"stage"},P="numberOfWorkflows",C="stagesPerWorkflow"},32329:function(T,g,t){"use strict";t.d(g,{n:function(){return f}});var e=t(32735),a=t(96192),o=t(20108);function f(m={}){const{get:r}=(0,a.kY)(),{id:p="",...l}=m,i={populate:"stages"},{data:s,isLoading:c,status:v,refetch:d}=(0,o.useQuery)(["review-workflows","workflows",p],async()=>(await r(`/admin/review-workflows/workflows/${p}`,{params:{...i,...l}})).data),u=e.useMemo(()=>p&&s?.data?[s.data]:Array.isArray(s?.data)?s.data:[],[s?.data,p]);return{meta:e.useMemo(()=>s?.meta??{},[s?.meta]),workflows:u,isLoading:c,status:v,refetch:d}}},79989:function(T,g,t){"use strict";t.d(g,{E:function(){return o},I:function(){return f}});var e=t(97889),a=t(2121);const o={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function f(r=o,p){return(0,e.Uy)(r,l=>{const{payload:i}=p;switch(p.type){case a.yq:{l.serverState.contentTypes=i;break}case a.rg:{l.clientState.isLoading=i;break}case a.zn:{l.serverState.roles=i;break}case a.qZ:{const s=i;s&&(l.serverState.workflow=s,l.clientState.currentWorkflow.data={...s,stages:s.stages.map(c=>({...c,color:c?.color??a.FT}))});break}case a.QM:{l.serverState.workflows=i;break}case a.gu:{l.clientState=o.clientState,l.serverState=o.serverState;break}case a.x4:{const{stageId:s}=i,{currentWorkflow:c}=r.clientState;l.clientState.currentWorkflow.data.stages=c.data.stages.filter(v=>(v?.id??v.__temp_key__)!==s);break}case a.Ot:{const{currentWorkflow:s}=r.clientState;s.data||(l.clientState.currentWorkflow.data={stages:[]});const c=m(l.clientState.currentWorkflow.data.stages);l.clientState.currentWorkflow.data.stages.push({...i,color:i?.color??a.FT,__temp_key__:c});break}case a.bc:{const{currentWorkflow:s}=r.clientState,{id:c}=i,v=s.data.stages.findIndex(u=>(u?.id??u?.__temp_key__)===c),d=s.data.stages[v];l.clientState.currentWorkflow.data.stages.splice(v+1,0,{...d,id:void 0,__temp_key__:m(l.clientState.currentWorkflow.data.stages)});break}case a.Nj:{const{currentWorkflow:s}=r.clientState,{stageId:c,...v}=i;l.clientState.currentWorkflow.data.stages=s.data.stages.map(d=>(d.id??d.__temp_key__)===c?{...d,...v}:d);break}case a.k_:{const{currentWorkflow:s}=r.clientState;l.clientState.currentWorkflow.data.stages=s.data.stages.map(c=>({...c,...i}));break}case a.$k:{const{currentWorkflow:{data:{stages:s}}}=r.clientState,{newIndex:c,oldIndex:v}=i;if(c>=0&&c<s.length){const d=s[v];let u=[...s];u.splice(v,1),u.splice(c,0,d),l.clientState.currentWorkflow.data.stages=u}break}case a.VS:{l.clientState.currentWorkflow.data={...l.clientState.currentWorkflow.data,...i};break}default:break}})}const m=(r=[])=>{const p=r.map(l=>l.id??l.__temp_key__);return Math.max(...p,-1)+1}},46111:function(T,g,t){"use strict";t.d(g,{CA:function(){return v},D6:function(){return s},DV:function(){return i},HK:function(){return p},RR:function(){return u},bH:function(){return c},g$:function(){return l},xU:function(){return d}});var e=t(98178),a=t(89793),o=t.n(a),f=t(2121),m=t(79989);const r=n=>n[f.sN]??m.E,p=(0,e.P1)(r,({serverState:{contentTypes:n}})=>n),l=(0,e.P1)(r,({serverState:{roles:n}})=>n),i=(0,e.P1)(r,({clientState:{currentWorkflow:n}})=>n.data),s=(0,e.P1)(r,({serverState:{workflows:n}})=>n),c=(0,e.P1)(r,({serverState:n,clientState:{currentWorkflow:y}})=>!o()(n.workflow,y.data)),v=(0,e.P1)(r,({serverState:n,clientState:{currentWorkflow:y}})=>!(n.workflow?.stages??[]).every(S=>!!y.data.stages.find(({id:x})=>x===S.id))),d=(0,e.P1)(r,({clientState:{isLoading:n}})=>n),u=(0,e.P1)(r,({serverState:n})=>n)},68886:function(T,g,t){"use strict";t.d(g,{k:function(){return o},s:function(){return f}});var e=t(41865),a=t(2121);function o(m){if(!m)return null;const p=Object.entries(e.W.colors).filter(([,l])=>l.toUpperCase()===m.toUpperCase()).reduce((l,[i])=>(a.lv?.[i]&&(l=i),l),null);return p?{themeColorName:p,name:a.lv[p]}:null}function f(){return Object.entries(a.lv).map(([m,r])=>({hex:e.W.colors[m].toUpperCase(),name:r}))}},82920:function(T,g,t){"use strict";t.d(g,{V:function(){return f}});var e=t(3040),a=t.n(e),o=t(24346);async function f({values:m,formatMessage:r}){const p=o.Ry({contentTypes:o.IX().of(o.Z_()),name:o.Z_().max(255,r({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:o.IX().of(o.Ry().shape({name:o.Z_().required(r({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,r({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",r({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(l){const{options:{context:i}}=this;return i.stages.filter(s=>s.name===l).length===1}),color:o.Z_().required(r({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:o.IX(o.Ry({role:o.Rx().strict().typeError(r({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:o.Z_().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await p.validate(m,{abortEarly:!1,context:m}),!0}catch(l){let i={};return l instanceof o.p8&&l.inner.forEach(s=>{a()(i,s.path,s.message)}),i}}},51355:function(T,g,t){var e=t(94318),a=t(3387),o="[object Boolean]";function f(m){return m===!0||m===!1||a(m)&&e(m)==o}T.exports=f},95919:function(T,g,t){var e=t(80022);function a(o){return e(o)&&o!=+o}T.exports=a},80022:function(T,g,t){var e=t(94318),a=t(3387),o="[object Number]";function f(m){return typeof m=="number"||a(m)&&e(m)==o}T.exports=f},9435:function(T,g,t){"use strict";t.d(g,{U:function(){return v},y:function(){return s}});var e=t(74512),a=t(32735),o=t(8471),f=t(85612),m=t(37808),r=t(8365),p=t(84642),l=t(77981);const i=({theme:d,expanded:u,variant:n,disabled:y,error:S})=>S?`1px solid ${d.colors.danger600} !important`:y?`1px solid ${d.colors.neutral150}`:u?`1px solid ${d.colors.primary600}`:n==="primary"?`1px solid ${d.colors.neutral0}`:`1px solid ${d.colors.neutral100}`,s=(0,o.ZP)(r.Z)``,c=(0,o.ZP)(l.x)`
  border: ${i};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:d})=>d.colors.primary600};

    ${s} {
      color: ${({theme:d,expanded:u})=>u?void 0:d.colors.primary700};
    }

    ${r.Z} {
      color: ${({theme:d,expanded:u})=>u?void 0:d.colors.primary600};
    }

    & > ${p.k} {
      background: ${({theme:d})=>d.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:d})=>d.colors.primary200};
    }
  }
`,v=({children:d,disabled:u=!1,error:n,expanded:y=!1,hasErrorMessage:S=!0,id:x,onToggle:P,toggle:C,size:W="M",variant:A="primary",shadow:O})=>{const w=(0,m.M)(x),R=a.useMemo(()=>({expanded:y,onToggle:P,toggle:C,id:w,size:W,variant:A,disabled:u}),[u,y,w,P,W,C,A]);return(0,e.jsxs)(f.S.Provider,{value:R,children:[(0,e.jsx)(c,{"data-strapi-expanded":y,disabled:u,"aria-disabled":u,expanded:y,hasRadius:!0,variant:A,error:n,shadow:O,children:d}),n&&S&&(0,e.jsx)(l.x,{paddingTop:1,children:(0,e.jsx)(r.Z,{variant:"pi",textColor:"danger600",children:n})})]})}},79624:function(T,g,t){"use strict";t.d(g,{v:function(){return f}});var e=t(74512),a=t(85612),o=t(77981);const f=({children:m,...r})=>{const{expanded:p,id:l}=(0,a.A)();if(!p)return null;const i=`accordion-content-${l}`,s=`accordion-label-${l}`,c=`accordion-desc-${l}`;return(0,e.jsx)(o.x,{role:"region",id:i,"aria-labelledby":s,"aria-describedby":c,...r,children:m})}},85612:function(T,g,t){"use strict";t.d(g,{A:function(){return o},S:function(){return a}});var e=t(32735);const a=(0,e.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),o=()=>(0,e.useContext)(a)},9379:function(T,g,t){"use strict";t.d(g,{B:function(){return d}});var e=t(74512),a=t(91917),o=t(8471),f=t(9435),m=t(85612);const r=({expanded:u,disabled:n,variant:y})=>{let S="neutral100";return u?S="primary100":n?S="neutral150":y==="primary"&&(S="neutral0"),S};var p=t(43743),l=t(18129),i=t(84642),s=t(8365);const c=(0,o.ZP)(p.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:u,expanded:n})=>n?u.colors.primary600:u.colors.neutral500};
    }
  }
`,v=(0,o.ZP)(i.k)`
  min-height: ${({theme:u,size:n})=>u.sizes.accordions[n]};
  border-radius: ${({theme:u,expanded:n})=>n?`${u.borderRadius} ${u.borderRadius} 0 0`:u.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:u})=>u.colors.primary600};
      }
    }
  }
`,d=({title:u,description:n,as:y="span",togglePosition:S="right",action:x,...P})=>{const{onToggle:C,toggle:W,expanded:A,id:O,size:w,variant:R,disabled:I}=(0,m.A)(),B=`accordion-content-${O}`,G=`accordion-label-${O}`,H=`accordion-desc-${O}`,Z=w==="M"?6:4,K=w==="M"?Z:Z-2,V=r({expanded:A,disabled:I,variant:R}),M={as:y,fontWeight:w==="S"?"bold":void 0,id:G,textColor:A?"primary600":"neutral700",ellipsis:!0,variant:w==="M"?"delta":void 0},b=A?"primary600":"neutral600",z=A?"primary200":"neutral200",k=w==="M"?`${32/16}rem`:`${24/16}rem`,J=()=>{I||(W&&!C?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),W()):C&&C())},q=(0,e.jsx)(i.k,{justifyContent:"center",borderRadius:"50%",height:k,width:k,transform:A?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:z,cursor:I?"not-allowed":"pointer",onClick:J,shrink:0,children:(0,e.jsx)(l.J,{as:a.Z,width:w==="M"?`${11/16}rem`:`${8/16}rem`,color:A?"primary600":"neutral600"})});return(0,e.jsx)(v,{paddingBottom:K,paddingLeft:Z,paddingRight:Z,paddingTop:K,background:V,expanded:A,size:w,justifyContent:"space-between",cursor:I?"not-allowed":"",children:(0,e.jsxs)(i.k,{gap:3,flex:1,maxWidth:"100%",children:[S==="left"&&q,(0,e.jsx)(c,{onClick:J,"aria-disabled":I,"aria-expanded":A,"aria-controls":B,"aria-labelledby":G,"data-strapi-accordion-toggle":!0,expanded:A,type:"button",flex:1,minWidth:0,...P,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.y,{...M,children:u}),n&&(0,e.jsx)(s.Z,{as:"p",id:H,textColor:b,children:n})]})}),S==="right"&&(0,e.jsxs)(i.k,{gap:3,children:[q,x]}),S==="left"&&x]})})}},70788:function(T,g,t){"use strict";t.d(g,{Z:function(){return o}});var e=t(74512);const a=f=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:(0,e.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),o=a},37405:function(T,g,t){"use strict";t.d(g,{Z:function(){return o}});var e=t(74512);const a=f=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:[(0,e.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),o=a},75322:function(T,g,t){"use strict";t.d(g,{Z:function(){return o}});var e=t(74512);const a=f=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:(0,e.jsx)("path",{fill:"#32324D",d:"M3.5 14.6a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Z"})}),o=a},3042:function(T,g,t){"use strict";t.d(g,{Z:function(){return o}});var e=t(74512);const a=f=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:[(0,e.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,e.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),o=a},59177:function(T,g,t){"use strict";t.d(g,{d7:function(){return o}});var e=t(84306);const{Axios:a,AxiosError:o,CanceledError:f,isCancel:m,CancelToken:r,VERSION:p,all:l,Cancel:i,isAxiosError:s,spread:c,toFormData:v,AxiosHeaders:d,HttpStatusCode:u,formToJSON:n,getAdapter:y,mergeConfig:S}=e.default}}]);

"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{67275:function(Be,w,s){var t=s(32735),ee=s(77981),v=s(96192),be=s(28868),N=s(90984),Q=s(54342),_=s(23673),we=s(79334),Ee=s(44298),et=s(28385),tt=s(80016),_e=s(60384),Ue=s(32119),We=s(19455),Ke=s(60389),he=s(95556),nt=s(53226),le=s(12171),Fe=s(58316),c=s(50756),at=s(60216),Pe=s.n(at),pe=s(8471);const ve={biginteger:be.Z,blocks:N.Z,boolean:Q.Z,collectionType:_.Z,component:we.Z,contentType:_.Z,date:Ee.Z,datetime:Ee.Z,decimal:be.Z,dynamiczone:et.Z,email:tt.Z,enum:_e.Z,enumeration:_e.Z,file:Ue.Z,files:Ue.Z,float:be.Z,integer:be.Z,json:We.Z,JSON:We.Z,media:Ue.Z,number:be.Z,password:Ke.Z,relation:he.Z,richtext:nt.Z,singleType:le.Z,string:Fe.Z,text:Fe.Z,time:Ee.Z,timestamp:Ee.Z,uid:c.Z},$=(0,pe.ZP)(ee.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,$e=({type:je,customField:st,...ot})=>{const it=(0,v.mZ)();let b=ve[je];if(st){const{icon:ze}=it.get(st);ze&&(b=ze)}return ve[je]?t.createElement($,{height:(0,v.Q1)(24),width:(0,v.Q1)(32),shrink:0,...ot,"aria-hidden":!0},t.createElement(ee.x,{as:b})):null};$e.defaultProps={customField:null},$e.propTypes={type:Pe().string.isRequired,customField:Pe().string},w.Z=$e},51401:function(Be,w,s){s.d(w,{c:function(){return Fn}});var t=s(98851),ee=s(88454),v=s(60860),be=s(72480),N=s(70788),Q=s(25919),_=s(23381),we=s(32095),Ee=s(87436),et=s(73892),tt=s(19999),_e=s(1586),Ue=s(2651),We=s(44494),Ke=s(98599),he=s(5894),nt=s(88026),le=s(94852),Fe=s(72911),c=s(37781),at=s(40501),Pe=s(31797),pe=s(24591),ve=s(68620),$=s(19594),$e=s(39638),je=s(17110),st=s(40685),ot=s(48644),it=s(9362),b=s(83708),ze=s(6665),qt=s(66846),Gt=s(70146),Ot=s(80031),Ht=s(13713),Yt=s(37455),Qt=s(70321),a=s(84951),Ce=s(87816),Xt=s(50720),De=s(32880),Jt=s(62864),Pt=s(10364),Dt=s(12350),S=s(69762),Ae=s(19211),rt=s(53220),Le=s(68527),wt=s(34901),V=s(27840),en=s(75337),tn=s(9568),nn=s(15406),At=s(22523),fa=s(73981),Lt=s(64745),ya=s(44130),lt=s(85406),It=s(17626),an=s(51098),dt=s(42815),sn=s(39126),j=s(9780),ct=s(42498),ut=s(47763),ke=s(54275),on=s(36328),Ve=s(17037),Me=s(46051),Ea=s(91528),xt=s(9137),rn=s(3448),ln=s(18981),mt=s(73136),dn=s(94140),ha=s(3115),St=s(30279),Bt=s(15558),cn=s(46528),un=s(41186),Ut=s(73896),mn=s(18489),pn=s(39544),gn=s(63318),fn=s(81904),yn=s(59151),En=s(3747),hn=s(77021),va=s(42627),vn=s(58518),Ma=s(82064),Mn=s(3718),Ft=s(601),Tn=s(47372),qe=s(98378),Ge=s(95412),pt=s(61131),bn=s(29806),Nt=s(37982),Cn=s(23044),gt=s(17229),ft=s(42778),_t=s(19815),Zn=s(96151),Wt=s(10291),yt=s(90230),Rn=s(90517),Et=s(83997),On=s(57918),Kt=s(62996),Pn=s(98128),ht=s(42912),Dn=s(65558),vt=s(17994),An=s(78420),$t=s(56549),Ln=s(86399),In=s(27369),xn=s(13424),Mt=s(12681),Sn=s(69826),Ta=s(24322),Bn=s(19637),Tt=s(50322),Un=s(22356);const Fn={alien:t.Z,apps:ee.Z,archive:v.Z,arrowDown:be.Z,arrowLeft:N.Z,arrowRight:Q.Z,arrowUp:_.Z,attachment:we.Z,bell:Ee.Z,bold:et.Z,book:tt.Z,briefcase:_e.Z,brush:Ue.Z,bulletList:We.Z,calendar:Ke.Z,car:he.Z,cast:nt.Z,chartBubble:le.Z,chartCircle:Fe.Z,chartPie:c.Z,check:at.Z,clock:Pe.Z,cloud:pe.Z,code:ve.Z,cog:$.Z,collapse:$e.Z,command:je.Z,connector:st.Z,crop:ot.Z,crown:it.Z,cube:b.Z,cup:ze.Z,cursor:qt.Z,dashboard:Gt.Z,database:Ot.Z,discuss:Ht.Z,doctor:Yt.Z,earth:Qt.Z,emotionHappy:a.Z,emotionUnhappy:Ce.Z,envelop:Xt.Z,exit:De.Z,expand:Jt.Z,eye:Pt.Z,feather:Dt.Z,file:S.Z,fileError:Ae.Z,filePdf:rt.Z,filter:Le.Z,folder:wt.Z,gate:V.Z,gift:en.Z,globe:tn.Z,grid:nn.Z,handHeart:At.Z,hashtag:fa.Z,headphone:Lt.Z,heart:ya.Z,house:lt.Z,information:It.Z,italic:an.Z,key:dt.Z,landscape:sn.Z,layer:j.Z,layout:ct.Z,lightbulb:ut.Z,link:ke.Z,lock:on.Z,magic:Ve.Z,manyToMany:Me.Z,manyToOne:Ea.Z,manyWays:xt.Z,medium:rn.Z,message:ln.Z,microphone:mt.Z,monitor:dn.Z,moon:ha.Z,music:St.Z,oneToMany:Bt.Z,oneToOne:cn.Z,oneWay:un.Z,paint:Ut.Z,paintBrush:mn.Z,paperPlane:pn.Z,pencil:gn.Z,phone:fn.Z,picture:yn.Z,pin:En.Z,pinMap:hn.Z,plane:va.Z,play:vn.Z,plus:Ma.Z,priceTag:Mn.Z,puzzle:Ft.Z,question:Tn.Z,quote:qe.Z,repeat:Ge.Z,restaurant:pt.Z,rocket:bn.Z,rotate:Nt.Z,scissors:Cn.Z,search:gt.Z,seed:ft.Z,server:_t.Z,shield:Zn.Z,shirt:Wt.Z,shoppingCart:yt.Z,slideshow:Rn.Z,stack:Et.Z,star:On.Z,store:Kt.Z,strikeThrough:Pn.Z,sun:ht.Z,television:Dn.Z,thumbDown:vt.Z,thumbUp:An.Z,train:$t.Z,twitter:Ln.Z,typhoon:In.Z,underline:xn.Z,user:Mt.Z,volumeMute:Sn.Z,volumeUp:Ta.Z,walk:Bn.Z,wheelchair:Tt.Z,write:Un.Z}},52219:function(Be,w,s){var t=s(32735);const ee=(0,t.createContext)();w.Z=ee},89798:function(Be,w,s){var t=s(32735);const ee=(0,t.createContext)();w.Z=ee},97782:function(Be,w,s){var t=s(32735),ee=s(52219);const v=()=>(0,t.useContext)(ee.Z);w.Z=v},20666:function(Be,w,s){var t=s(32735),ee=s(89798);const v=()=>(0,t.useContext)(ee.Z);w.Z=v},3681:function(Be,w,s){s.r(w),s.d(w,{default:function(){return No}});var t=s(32735),ee=s(99226),v=s(96192),be=s(74758),N=s(67879),Q=s(53038),_=s(77981),we=s(43743),Ee=s(18129),et=s(7141),tt=s(65352),_e=s(36473),Ue=s(88791),We=s(68080),Ke=s(89274),he=s(82064),nt=s(23940),le=s.n(nt),Fe=s(14911),c=s(32105),at=s(89793),Pe=s.n(at),pe=s(97782),ve=s(20666),$=s(53728),je=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:d,initialData:l}=(0,pe.Z)(),u=(0,v.lm)(),{trackUsage:f}=(0,v.rS)(),[g,p]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:A}=(0,ve.Z)(),{locale:C}=(0,N.Z)(),{startsWith:M}=(0,v.L0)(C,{sensitivity:"base"}),O=(0,v.Xe)(C,{sensitivity:"base"}),I=!Object.keys(o).some(B=>o[B].isTemporary===!0)&&!Object.keys(e).some(B=>e[B].isTemporary===!0)&&Pe()(d,l),T=()=>{I?(f("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):x()},D=()=>{I?(f("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):x()},L=()=>{I?(f("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):x()},x=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},z=Object.entries(n).map(([B,re])=>({name:B,title:B,isEditable:r,onClickEdit(k,ce){k.stopPropagation(),I?A(ce.name):x()},links:re.map(k=>({name:k.uid,to:`/plugins/${$.Z}/component-categories/${B}/${k.uid}`,title:k.schema.displayName})).sort((k,ce)=>O.compare(k.title,ce.title))})).sort((B,re)=>O.compare(B.title,re.title)),ne=i.filter(B=>B.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:T},links:ne.filter(B=>B.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:D},links:ne.filter(B=>B.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:L},links:z}].map(B=>B.links.some(k=>Array.isArray(k.links))?{...B,links:B.links.map(k=>{const ce=k.links.filter(H=>M(H.title,g));return ce.length===0?null:{...k,links:ce.sort((H,G)=>O.compare(H.title,G.title))}}).filter(Boolean)}:{...B,links:B.links.filter(k=>M(k.title,g)).sort((k,ce)=>O.compare(k.title,ce.title))}),searchValue:g,onSearchChange:p}},ot=()=>{const{menu:e,searchValue:n,onSearchChange:o}=je(),{formatMessage:r}=(0,N.Z)();return t.createElement(et.m,{ariaLabel:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(tt.p,{searchable:!0,value:n,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),t.createElement(_e.Z,null,e.map(i=>t.createElement(t.Fragment,{key:i.name},t.createElement(Ue.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(d=>d.links?t.createElement(We.z,{key:d.name,label:le()(d.title)},d.links.map(l=>t.createElement(Ke.E,{as:Fe.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},le()(r({id:l.name,defaultMessage:l.title}))))):t.createElement(Ke.E,{as:Fe.OL,to:d.to,active:d.active,key:d.name},le()(r({id:d.name,defaultMessage:d.title}))))),i.customLink&&t.createElement(_.x,{paddingLeft:7},t.createElement(we.A,{onClick:i.customLink.onClick,startIcon:t.createElement(Ee.J,{as:he.Z,width:(0,v.Q1)(8),height:(0,v.Q1)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},it=s(33795),b=s.n(it),ze=s(81346),qt=s.n(ze),Gt=s(3040),Ot=s.n(Gt),Ht=s(61868),Yt=s.n(Ht),Qt=s(60216),a=s.n(Qt),Ce=s(40986),Xt=s(52219),De=s(19323),Jt=s(21223),Pt=s(87674),Dt=s(49854),S=s(84642),Ae=s(89599),rt=s(2775),Le=s(8623),wt=s(74973),V=s(91779),en=s(23973),tn=s.n(en),nn=s(59578),At=s.n(nn),Lt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),lt=(e,n)=>e.find(({name:o})=>o===n),It=s(63057);const an=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],dt=({intlLabel:e,name:n,onChange:o,value:r})=>{const{formatMessage:i}=(0,N.Z)(),d=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>le()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):n;return t.createElement(It.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:n,value:u,type:"allowed-types-select"}}):o({target:{name:n,value:null,type:"allowed-types-select"}})},options:an,value:r||[]})};dt.defaultProps={value:null},dt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};var sn=dt,j=s(8365),ct=s(75293),ut=s(10710),ke=s(97037),on=s(49551),Ve=s(67275),Me=s(8471),xt=(0,Me.ZP)(_.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`;const rn=["blocks"],ln=()=>t.createElement(S.k,{grow:1,justifyContent:"flex-end"},t.createElement(S.k,{gap:1,fontSizes:0,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`},t.createElement(Ee.J,{width:`${10/16}rem`,height:`${10/16}rem`,as:on.Z,color:"alternative600"}),t.createElement(j.Z,{textColor:"alternative600",variant:"sigma"},"New"))),mt=({type:e})=>{const{formatMessage:n}=(0,N.Z)(),{onClickSelectField:o}=(0,ve.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},t.createElement(S.k,null,t.createElement(Ve.Z,{type:e}),t.createElement(_.x,{paddingLeft:4,width:"100%"},t.createElement(S.k,{justifyContent:"space-between"},t.createElement(j.Z,{fontWeight:"bold"},n({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e})),rn.includes(e)&&t.createElement(ln,null)),t.createElement(S.k,null,t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};mt.defaultProps={type:"text"},mt.propTypes={type:a().string};var dn=mt,St=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}};const Bt=({attributes:e})=>t.createElement(ct.k,{tagName:"button"},t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:8},e.map((n,o)=>t.createElement(ut.r,{key:o,gap:0},n.map((r,i)=>{const{paddingLeft:d,paddingRight:l}=St(i);return t.createElement(ke.P,{key:r,col:6},t.createElement(_.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},t.createElement(dn,{type:r})))})))));Bt.propTypes={attributes:a().array.isRequired};var cn=Bt,un=s(84458);const Ut=({customFieldUid:e,customField:n})=>{const{type:o,intlLabel:r,intlDescription:i}=n,{formatMessage:d}=(0,N.Z)(),{onClickSelectCustomField:l}=(0,ve.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},t.createElement(S.k,null,t.createElement(Ve.Z,{type:o,customField:e}),t.createElement(_.x,{paddingLeft:4},t.createElement(S.k,null,t.createElement(j.Z,{fontWeight:"bold"},d(r))),t.createElement(S.k,null,t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(i))))))};Ut.propTypes={customFieldUid:a().string.isRequired,customField:a().shape({type:a().string.isRequired,icon:a().func,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,intlDescription:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired}).isRequired};var mn=Ut,pn=s(18101),gn=s(23982),fn=s(33348),yn=s.n(fn);const En=(0,Me.ZP)(_.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,hn=()=>t.createElement(S.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>t.createElement(En,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0})));var vn=()=>{const{formatMessage:e}=(0,N.Z)();return t.createElement(_.x,{position:"relative"},t.createElement(hn,null),t.createElement(_.x,{position:"absolute",top:6,width:"100%"},t.createElement(S.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(Ee.J,{as:gn.Z,color:"",width:"160px",height:"88px"}),t.createElement(_.x,{paddingTop:6,paddingBottom:4},t.createElement(_.x,{textAlign:"center"},t.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(_.x,{paddingTop:4},t.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(pn.Q,{to:`/marketplace?${yn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(he.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Mn=()=>{const{formatMessage:e}=(0,N.Z)(),n=(0,v.mZ)(),o=Object.entries(n.getAll());if(!o.length)return t.createElement(vn,null);const r=o.sort((i,d)=>i[1].name>d[1].name?1:-1);return t.createElement(ct.k,{tagName:"button"},t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:3},t.createElement(ut.r,{gap:0},r.map(([i,d],l)=>{const{paddingLeft:u,paddingRight:f}=St(l);return t.createElement(ke.P,{key:i,col:6,style:{height:"100%"}},t.createElement(_.x,{paddingLeft:u,paddingRight:f,paddingBottom:1,style:{height:"100%"}},t.createElement(mn,{key:i,customFieldUid:i,customField:d})))})),t.createElement(un.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))};const Ft=({attributes:e,forTarget:n,kind:o})=>{const{formatMessage:r}=(0,N.Z)(),i=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=n.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return t.createElement(Pt.f,{padding:6},t.createElement(Dt.v,{label:r({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(S.k,{justifyContent:"space-between"},t.createElement(j.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),t.createElement(Ae.m,null,t.createElement(Ae.O,null,r({id:i,defaultMessage:"Default"})),t.createElement(Ae.O,null,r({id:d,defaultMessage:"Custom"})))),t.createElement(_.x,{paddingBottom:6},t.createElement(rt.i,null)),t.createElement(Le.n,null,t.createElement(Le.x,null,t.createElement(cn,{attributes:e})),t.createElement(Le.x,null,t.createElement(Mn,null)))))};Ft.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};var Tn=Ft,qe=s(16773),Ge=s(40260);const pt=({intlLabel:e,name:n,options:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,u=f=>{let g="";f==="true"&&(g=!0),f==="false"&&(g=!1),r({target:{name:n,value:g,type:"select-default-boolean"}})};return t.createElement(qe.P,{label:l,id:n,name:n,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:f,disabled:g,hidden:p},key:m,value:A})=>t.createElement(Ge.W,{key:m,value:A,disabled:g,hidden:p},f.defaultMessage)))};pt.defaultProps={value:null},pt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};var bn=pt,Nt=s(59619);const Cn=(0,Me.ZP)(S.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Nt.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${j.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:n,onChange:o,radios:r,value:i})=>{const{formatMessage:d}=(0,N.Z)();return t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},d(e)),t.createElement(Cn,{gap:4,alignItems:"stretch"},r.map(l=>t.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},t.createElement("input",{id:l.value.toString(),name:n,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),t.createElement(_.x,{className:"option",padding:4},t.createElement(S.k,null,t.createElement(_.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(j.Z,{fontWeight:"bold"},d(l.title)),t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};gt.defaultProps={radios:[]},gt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};var ft=gt;const _t=({onChange:e,name:n,...o})=>{const r=i=>{const d=i.target.value!=="false";e({target:{name:n,value:d,type:"boolean-radio-group"}})};return t.createElement(ft,{...o,name:n,onChange:r})};_t.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};var Zn=_t,Wt=s(31014),yt=s(2846),Rn=s(8919);const Et=({error:e,intlLabel:n,modifiedData:o,name:r,onChange:i,value:d})=>{const{formatMessage:l}=(0,N.Z)(),[u,f]=(0,t.useState)(!!d||d===0),g=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):r,p=o.type==="biginteger"?"text":"number",m=!o.type,A=e?l({id:e,defaultMessage:e}):"";return t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(Wt.X,{id:r,name:r,onValueChange:C=>{i({target:{name:r,value:C?p==="text"?"0":0:null}}),f(I=>!I)},value:u},g),u&&t.createElement(_.x,{paddingLeft:6,style:{maxWidth:"200px"}},p==="text"?t.createElement(yt.o,{"aria-label":g,disabled:m,error:A,id:r,name:r,onChange:i,value:d===null?"":d}):t.createElement(Rn.Y,{"aria-label":g,disabled:m,error:A,id:r,name:r,onValueChange:C=>{i({target:{name:r,value:C,type:p}})},value:d||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};var On=Et;const Kt=({onChange:e,...n})=>{const o=(0,v.lm)(),r=i=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return t.createElement(ft,{...n,onChange:r})};Kt.propTypes={onChange:a().func.isRequired};var Pn=Kt;const ht=({description:e,disabled:n,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),[f,g]=(0,t.useState)(!1),p=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=()=>g(O=>!O),C=()=>{d({target:{name:i,value:!1}}),A()},M=({target:{checked:O}})=>{if(!O&&!r){A();return}d({target:{name:i,value:O}})};return t.createElement(t.Fragment,null,t.createElement(Wt.X,{checked:l,disabled:n,hint:m,name:i,onChange:M},p),t.createElement(v.QH,{isOpen:f,onToggleDialog:A,onConfirm:C,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};var Dn=ht;const vt=({categoryName:e,deleteCategory:n,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:f,isCreatingComponent:g,isCreatingComponentAttribute:p,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:A,isCreatingContentType:C,isCreatingDz:M,isComponentModal:O,isDzAttribute:I,isEditingAttribute:T,isEditingCategory:D,isInFirstComponentStep:L,onSubmitAddComponentAttribute:x,onSubmitAddComponentToDz:z,onSubmitCreateContentType:ne,onSubmitCreateComponent:de,onSubmitCreateDz:B,onSubmitEditAttribute:re,onSubmitEditCategory:k,onSubmitEditComponent:ce,onSubmitEditContentType:H,onSubmitEditCustomFieldAttribute:G,onSubmitEditDz:Ze,onClickFinish:ae})=>{const{formatMessage:K}=(0,N.Z)();return u?m?t.createElement(V.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),z(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(V.z,{variant:"default",type:"submit",onClick:Z=>{Z.preventDefault(),z(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"})):i&&I&&!M?t.createElement(V.z,{variant:"default",type:"submit",onClick:Z=>{Z.preventDefault(),ae(),Ze(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"})):i&&I&&M?t.createElement(t.Fragment,null,t.createElement(V.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),B(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?L?t.createElement(V.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),x(Z,!0)}},K(p?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(V.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),x(Z,!0)},startIcon:t.createElement(he.Z,null)},K(A?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(V.z,{variant:"default",type:"button",onClick:Z=>{Z.preventDefault(),ae(),x(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!I?t.createElement(t.Fragment,null,t.createElement(V.z,{type:T?"button":"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),re(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(V.z,{type:T?"submit":"button",variant:"default",onClick:Z=>{Z.preventDefault(),ae(),re(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):f?t.createElement(t.Fragment,null,!C&&t.createElement(t.Fragment,null,t.createElement(V.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),r()}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(V.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),H(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))),C&&t.createElement(V.z,{type:"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),ne(Z,!0)}},K({id:"global.continue",defaultMessage:"Continue"}))):O?t.createElement(t.Fragment,null,!g&&t.createElement(t.Fragment,null,t.createElement(V.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),o()}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(V.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),ce(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))),g&&t.createElement(V.z,{type:"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),de(Z,!0)}},K({id:"global.continue",defaultMessage:"Continue"}))):D?t.createElement(t.Fragment,null,t.createElement(V.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),n(e)}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(V.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),k(Z)}},K({id:"global.finish",defaultMessage:"finish"}))):d?t.createElement(t.Fragment,null,t.createElement(V.z,{type:T?"button":"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),G(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(V.z,{type:T?"submit":"button",variant:"default",onClick:Z=>{Z.preventDefault(),ae(),G(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):null};vt.defaultProps={categoryName:null,onClickFinish(){}},vt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isCustomFieldModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditCustomFieldAttribute:a().func.isRequired,onSubmitEditDz:a().func.isRequired,onClickFinish:a().func};var An=vt,$t=s(98887),Ln=s(79129),In=s(2748),xn=s(70788);const Mt=({actionType:e,attributeName:n,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:f,customFieldUid:g,showBackLink:p})=>{const{formatMessage:m}=(0,N.Z)(),{modifiedData:A}=(0,pe.Z)(),{onOpenModalAddField:C}=(0,ve.Z)();let M,O=[];const I=A?.[l]?.[f]||A?.[l]||null;let T=I?.schema.displayName;if(u==="contentType"&&(M=i),["component","editCategory"].includes(u)&&(M="component"),["component","contentType"].includes(u)){let L=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(L=(0,c.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(L=(0,c.Z)("modalForm.header-edit")),t.createElement($t.x,null,t.createElement(S.k,null,t.createElement(_.x,null,t.createElement(Ve.Z,{type:M})),t.createElement(_.x,{paddingLeft:3},t.createElement(j.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},m({id:L},{name:T})))))}return O=[{label:T,info:{category:I?.category||null,name:I?.schema.displayName}}],u==="chooseAttribute"&&(M=["component","components"].includes(l)?"component":I.schema.kind),u==="addComponentToDynamicZone"&&(M="dynamiczone",O.push({label:d})),(u==="attribute"||u==="customField")&&(M=o,O.push({label:n})),u==="editCategory"&&(O=[{label:m({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),t.createElement($t.x,null,t.createElement(S.k,{gap:3},p&&t.createElement(v.rU,{"aria-label":m({id:(0,c.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:t.createElement(xn.Z,null),onClick:()=>C({forTarget:l,targetUid:f}),to:"#back"}),t.createElement(Ve.Z,{type:M,customField:g}),t.createElement(Ln.O,{label:O.map(({label:L})=>L).join(",")},O.map(({label:L,info:x},z,ne)=>{if(L=le()(L),!L)return null;const de=`${L}.${z}`;return x?.category&&(L=`${L} (${le()(x.category)} - ${le()(x.name)})`),t.createElement(In.$,{isCurrent:z===ne.length-1,key:de},L)}))))};Mt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Mt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string,customFieldUid:a().string,showBackLink:a().bool};var Sn=Mt,Bn=({modalType:e,forTarget:n,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}};const Tt=({actionType:e,modalType:n,forTarget:o,kind:r,step:i,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:f}=(0,N.Z)(),g=n==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return t.createElement(S.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(j.Z,{as:"h2",variant:"beta"},f({id:Bn({actionType:e,forTarget:o,kind:r,step:i,modalType:n}),defaultMessage:"Add new field"},{type:le()(f(g)),name:le()(l),step:i})),t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},f({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};Tt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Tt.propTypes={actionType:a().string,modalType:a().string,forTarget:a().string,kind:a().string,step:a().string,attributeType:a().string,attributeName:a().string,customField:a().object};var Un=Tt,Fn=s(750),rs=s(99391),ls=s(99320),ds=s(37561),cs=s(41604),ba=s(14763),us=s(11349),ms=s(17229),ps=s(94997),Ca=s(51401);const gs=(0,Me.ZP)(S.k)`
  label {
    ${Nt.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Za=({iconKey:e,name:n,onChange:o,isSelected:r,ariaLabel:i})=>t.createElement(Fn.g,{name:n,required:!1},t.createElement(rs.Q,{htmlFor:e,id:`${e}-label`},t.createElement(ls.T,null,t.createElement(ds._,{type:"radio",id:e,name:n,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),t.createElement(S.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},t.createElement(Ee.J,{as:Ca.c[e],color:r?"primary600":"neutral300"}))));Za.propTypes={iconKey:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,isSelected:a().bool.isRequired,ariaLabel:a().string.isRequired};const Nn=({intlLabel:e,name:n,onChange:o,value:r})=>{const{formatMessage:i}=(0,N.Z)(),[d,l]=(0,t.useState)(!1),[u,f]=(0,t.useState)(""),g=Object.keys(Ca.c),[p,m]=(0,t.useState)(g),A=(0,t.useRef)(null),C=(0,t.useRef)(null),M=()=>{l(!d)},O=({target:{value:D}})=>{f(D),m(()=>g.filter(L=>L.toLowerCase().includes(D.toLowerCase())))},I=()=>{M(),f(""),m(g)},T=()=>{o({target:{name:n,value:""}})};return(0,t.useEffect)(()=>{d&&C.current.focus()},[d]),t.createElement(t.Fragment,null,t.createElement(S.k,{justifyContent:"space-between",paddingBottom:2},t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),t.createElement(S.k,{gap:1},d?t.createElement(cs.w,{ref:C,name:"searchbar",size:"S",placeholder:i({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||M()},onChange:O,value:u,onClear:I,clearLabel:i({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):t.createElement(ba.h,{ref:A,onClick:M,"aria-label":i({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:t.createElement(ms.Z,null),noBorder:!0}),r&&t.createElement(us.u,{description:i({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},t.createElement(ba.h,{onClick:T,"aria-label":i({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:t.createElement(ps.Z,null),noBorder:!0})))),t.createElement(gs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},p.length>0?p.map(D=>t.createElement(Za,{key:D,iconKey:D,name:n,onChange:o,isSelected:D===r,ariaLabel:i({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:D})})):t.createElement(_.x,{padding:4,grow:2},t.createElement(j.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Nn.defaultProps={value:""},Nn.propTypes={intlLabel:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var fs=Nn,ys=s(24443),_n=s.n(ys),Ra=s(43658);const Wn=({description:e,error:n,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),f=(0,t.useRef)(d),g=r?.displayName||"";(0,t.useEffect)(()=>{if(g){const C=(0,Ra.Z)(g);try{const M=_n()(C,2);f.current({target:{name:i,value:M}})}catch{f.current({target:{name:i,value:C}})}}else f.current({target:{name:i,value:""}})},[g,i]);const p=n?u({id:n,defaultMessage:n}):"",m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=u(o);return t.createElement(yt.o,{error:p,label:A,id:i,hint:m,name:i,onChange:d,value:l||""})};Wn.defaultProps={description:null,error:null,value:null},Wn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var Es=Wn,Kn=s(11165),jt=s(98202),q=s(52486);const $n=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,pe.Z)(),i=(0,Ce.I0)(),d=r.filter(Lt),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[n]??{},f=({uid:g,plugin:p,title:m,restrictRelationsTo:A})=>()=>{const C=p?`${p}_${m}`:m;i({type:q.aG,target:{value:g,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:C,targetContentTypeAllowedRelations:A}})};return t.createElement(jt.fC,null,t.createElement(hs,null,`${u} ${l?`(from: ${l})`:""}`),t.createElement(jt.VY,{zIndex:5},d.map(({uid:g,title:p,restrictRelationsTo:m,plugin:A})=>t.createElement(jt.ck,{key:g,onSelect:f({uid:g,plugin:A,title:p,restrictRelationsTo:m})},p,"\xA0",A&&t.createElement(t.Fragment,null,"(from: ",A,")")))))};$n.defaultProps={target:null},$n.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const hs=(0,Me.ZP)(jt.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`;var vs=$n;const jn=({disabled:e,error:n,header:o,isMain:r,name:i,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:f})=>t.createElement(_.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(S.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(vs,{target:u,oneThatIsCreatingARelationWithAnother:l})),t.createElement(rt.i,{background:"neutral200"}),t.createElement(_.x,{padding:4},t.createElement(v.jm,{disabled:e,error:n?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:d,type:"text",value:f})));jn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},jn.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};var Oa=jn,Ms=s(41186),Ts=s(46528),bs=s(15558),Cs=s(91528),Zs=s(46051),Rs=s(9137),Os=s(51382),Pa=s.n(Os);const Ps=(0,Me.ZP)(_.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ds=(0,Me.ZP)(_.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,As=(0,Me.ZP)(S.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ls={oneWay:Ms.Z,oneToOne:Ts.Z,oneToMany:bs.Z,manyToOne:Cs.Z,manyToMany:Zs.Z,manyWay:Rs.Z},zn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:o,target:r})=>{const i=(0,Ce.I0)(),{formatMessage:d}=(0,N.Z)(),{contentTypes:l,modifiedData:u}=(0,pe.Z)(),f=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],g=["oneWay","manyWay"],m=(e==="contentType"?b()(u,[e,"schema","kind"],""):e)==="collectionType"?f:g,A=o==="manyToOne",C=b()(l,[r,"schema","displayName"],"unknown"),M=A?C:n,O=A?n:C,I=_n()(M,o==="manyToMany"?2:1),T=b()(l,[r,"schema","restrictRelationsTo"],null),D=_n()(O,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(S.k,{style:{flex:1}},t.createElement(Ps,null,t.createElement(S.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(ct.k,{tagName:"button"},t.createElement(S.k,{gap:3},m.map(L=>{const x=Ls[L],z=T===null||T.includes(L);return t.createElement(Ds,{as:"button",isSelected:o===L,disabled:!z,key:L,onClick:()=>{z&&i({type:q.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:r,value:L}})},padding:2,type:"button"},t.createElement(x,{key:L}))}))))),t.createElement(As,{justifyContent:"center"},t.createElement(j.Z,null,Pa()(I,{length:24}),"\xA0"),t.createElement(j.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),t.createElement(j.Z,null,Pa()(D,{length:24})))):null};zn.defaultProps={relationType:null,target:null},zn.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};var Is=zn;const Da=({formErrors:e,mainBoxHeader:n,modifiedData:o,naturePickerType:r,onChange:i})=>{const d=(0,Kn.Z)(o.relation,o.targetAttribute);return t.createElement(S.k,{style:{position:"relative"}},t.createElement(Oa,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),t.createElement(Is,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:n,relationType:d,target:o.target}),t.createElement(Oa,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:n,target:o.target,value:o?.targetAttribute||""}))};Da.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};var xs=Da,Ss=s(70843),Bs=s(8241);const kn=({error:e,intlLabel:n,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),{allComponentsCategories:l}=(0,pe.Z)(),[u,f]=(0,t.useState)(l),g=e?d({id:e,defaultMessage:e}):"",p=d(n),m=C=>{r({target:{name:o,value:C,type:"select-category"}})},A=C=>{f(M=>[...M,C]),m(C)};return t.createElement(Ss.XU,{error:g,id:o,label:p,name:o,onChange:m,onCreateOption:A,value:i},u.map(C=>t.createElement(Bs.O,{key:C,value:C},C)))};kn.defaultProps={error:null,value:null},kn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var Us=kn;const Vn=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:d,name:l,onChange:u,targetUid:f,forTarget:g,value:p})=>{const{formatMessage:m}=(0,N.Z)(),A=e?m({id:e,defaultMessage:e}):"",C=m(n),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:O}=(0,pe.Z)(),I=["component","components"].includes(g);let T=Object.entries(M).reduce((D,L)=>{const[x,z]=L,ne=z.map(de=>({uid:de.uid,label:de.schema.displayName,categoryName:x}));return[...D,...ne]},[]);return o&&(T=T.filter(D=>!O.includes(D.uid))),I&&(T=T.filter(D=>D.uid!==f)),i&&(T=[{uid:p,label:d.displayName,categoryName:d.category}]),t.createElement(qe.P,{disabled:i||!r,error:A,label:C,id:l,name:l,onChange:D=>{u({target:{name:l,value:D,type:"select-category"}})},value:p||""},T.map(D=>t.createElement(Ge.W,{key:D.uid,value:D.uid},`${D.categoryName} - ${D.label}`)))};Vn.defaultProps={componentToCreate:null,error:null},Vn.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};var Fs=Vn;const Aa=({dynamicZoneTarget:e,intlLabel:n,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,pe.Z)(),g=(lt(u.contentType.schema.attributes,e)||{}).components||[],p=Object.keys(l).reduce((C,M)=>{const O=l[M].filter(({uid:I})=>!g.includes(I));return O.length>0&&(C[M]=O),C},{}),m=Object.entries(p).reduce((C,M)=>{const[O,I]=M,T={label:O,children:I.map(({uid:D,schema:{displayName:L}})=>({label:L,value:D}))};return C.push(T),C},[]),A=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return t.createElement(It.Q,{id:"select1",label:d(n),customizeContent:()=>A,name:o,onChange:C=>{r({target:{name:o,value:C,type:"select-components"}})},options:m,value:i||[]})};Aa.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};var Ns=Aa;const qn=({intlLabel:e,error:n,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),f=u(e),g=n?u({id:n,defaultMessage:n}):"",p=m=>{i({target:{name:r,value:m,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return t.createElement(qe.P,{error:g,label:f,id:r,name:r,onChange:p,value:l||""},d.map(({metadatas:{intlLabel:m,disabled:A,hidden:C},key:M,value:O})=>t.createElement(Ge.W,{key:M,value:O,disabled:A,hidden:C},u({id:m.id,defaultMessage:m.defaultMessage},m.values))))};qn.defaultProps={error:void 0,value:""},qn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};var _s=qn;const Gn=({intlLabel:e,error:n,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),f=u(e),g=n?u({id:n,defaultMessage:n}):"",p=m=>{i({target:{name:r,value:m,type:"select"}}),l&&(m==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return t.createElement(qe.P,{error:g,label:f,id:r,name:r,onChange:p,value:l||""},d.map(({metadatas:{intlLabel:m,disabled:A,hidden:C},key:M,value:O})=>t.createElement(Ge.W,{key:M,value:O,disabled:A,hidden:C},u(m))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};var Ws=Gn;const Hn=({description:e,error:n,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),f=(0,t.useRef)(d),g=r?.displayName||"";(0,t.useEffect)(()=>{g?f.current({target:{name:i,value:(0,Ra.Z)(g)}}):f.current({target:{name:i,value:""}})},[g,i]);const p=n?u({id:n,defaultMessage:n}):"",m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=u(o);return t.createElement(yt.o,{error:p,label:A,id:i,hint:m,name:i,onChange:d,value:l||""})};Hn.defaultProps={description:null,error:null,value:null},Hn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var Ks=Hn;const La=({form:e,formErrors:n,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:d}=(0,N.Z)();return e.map((l,u)=>l.items.length===0?null:t.createElement(_.x,{key:u},l.sectionTitle&&t.createElement(_.x,{paddingBottom:4},t.createElement(j.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),t.createElement(ut.r,{gap:4},l.items.map((f,g)=>{const p=`${u}.${g}`,m=b()(r,f.name,void 0),A=Object.keys(n).find(M=>M===f.name),C=A?n[A].id:b()(n,[...f.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return f.type==="pushRight"?t.createElement(ke.P,{col:f.size||6,key:f.name||p},t.createElement("div",null)):t.createElement(ke.P,{col:f.size||6,key:f.name||p},t.createElement(v.jm,{...f,...o,error:C,onChange:i,value:m}))}))))};La.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};var Ia=La,$s=s(15367);const Yn=({description:e,disabled:n,error:o,intlLabel:r,labelAction:i,name:d,onChange:l,placeholder:u,value:f})=>{const{formatMessage:g}=(0,N.Z)(),p=o?g({id:o,defaultMessage:o}):"",m=e?g({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=g(r),C=u?g({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",M=Array.isArray(f)?f.join(`
`):"",O=I=>{const T=I.target.value.split(`
`);l({target:{name:d,value:T}})};return t.createElement($s.g,{disabled:n,error:p,label:A,labelAction:i,id:d,hint:m,name:d,onChange:O,placeholder:C,value:M},M)};Yn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Yn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};var js=Yn;const Te={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var zs={sections:[{sectionTitle:null,items:[Te]}]},Qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},h=s(24346),xa=/^[A-Za-z][-_0-9A-Za-z]*$/,ks=e=>{const n={name:h.Z_().matches(xa,v.I0.regex).test({name:"nameNotAllowed",message:v.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(v.I0.required)};return h.Ry(n)},Vs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},He=s(72666),qs=(e,n,o)=>{const r={displayName:h.Z_().test({name:"nameAlreadyUsed",message:v.I0.unique,test(i){if(!i)return!1;const d=(0,He.N)(i,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(i){return i?!n.includes(i?.trim()?.toLowerCase()):!1}}).required(v.I0.required),category:h.Z_().matches(xa,v.I0.regex).required(v.I0.required),icon:h.Z_()};return h.Ry(r)},Ye={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},R={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Gs={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},component({repeatable:e},n){return n==="1"?{sections:Ye.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private,R.max,R.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...R.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.max,R.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...R.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.maxLength,R.minLength,R.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,o)=>e.enum.indexOf(n)===o&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.max,R.min,R.private]}]}},password(){return{sections:[{sectionTitle:null,items:[R.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[R.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}},text(){return{sections:[{sectionTitle:null,items:[R.default,R.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.maxLength,R.minLength,R.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...R.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}}},Hs={component(e,n){if(n==="1"){const o=e.createComponent===!0?Ye.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Qn]},...o]}}return{sections:[{sectionTitle:null,items:[Te,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Te,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Te]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Te]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Te,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Te]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Te]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Te,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Sa={advanced:Gs,base:Hs},Ys=s(91815),Qs=s.n(Ys),Xs=s(40791),Js=s.n(Xs),Xn=e=>Js()(e,{decamelize:!1,lowercase:!1,separator:"_"}),ws=s(78746),Jn=s.n(ws);const Ba=/^[A-Za-z][_0-9A-Za-z]*$/,Ua=e=>({name:"attributeNameAlreadyUsed",message:v.I0.unique,test(n){return n?!e.includes(n):!1}}),pi=(e,n,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>n?i!==o:!0)},wn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),E={default:()=>h.Z_().nullable(),max:()=>h.Rx().integer().nullable(),min:()=>h.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,c.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>h.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>h.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,c.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return h.Z_().test(Ua(e)).test(wn(n)).matches(Ba,v.I0.regex).required(v.I0.required)},required:()=>h.O7(),type:()=>h.Z_().required(v.I0.required),unique:()=>h.O7().nullable()},ea=(e,n)=>({name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:h.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),ta={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN(Jn()(e))?!0:Jn()(n)>=Jn()(e)}};var na={date(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},datetime(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},time(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},default(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},biginteger(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:h.Z_().nullable().matches(/^-?\d*$/,v.I0.regex),min:h.Z_().nullable().test(ta).matches(/^-?\d*$/,v.I0.regex)};return h.Ry(o)},boolean(e,n){const o={name:E.name(e,n),default:h.O7().nullable(),required:E.required(),unique:E.unique()};return h.Ry(o)},component(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:h.Z_().required(v.I0.required)};return h.Ry(o)},decimal(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Rx(),required:E.required(),max:h.Rx(),min:h.Rx().test(ta)};return h.Ry(o)},dynamiczone(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return h.Ry(o)},email(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},enumeration(e,n){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:h.Z_().test(Ua(e)).test(wn(n)).matches(o,v.I0.regex).required(v.I0.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:h.IX().of(h.Z_()).min(1,v.I0.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(i){return!Qs()(i.map(Xn).filter((l,u,f)=>f.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:i=>!i.map(Xn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:i=>i.map(Xn).every(d=>o.test(d))}),enumName:h.Z_().nullable()};return h.Ry(r)},float(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),default:h.Rx(),max:h.Rx(),min:h.Rx().test(ta)};return h.Ry(o)},integer(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return h.Ry(o)},json(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),unique:E.unique()};return h.Ry(o)},media(e,n){const o={name:E.name(e,n),type:E.type(),multiple:h.O7(),required:E.required(),allowedTypes:h.IX().of(h.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return h.Ry(o)},password(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},relation(e,n,o,{initialData:r,modifiedData:i}){const d={name:E.name(e,n),target:h.Z_().required(v.I0.required),relation:h.Z_().required(),type:h.Z_().required(),targetAttribute:h.Vo(()=>{const l=(0,Kn.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return h.Z_().nullable();let u=h.Z_().test(wn(n)),g=[...o.map(({name:p})=>p),i.name].filter(p=>p!==r.targetAttribute);return u.matches(Ba,v.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(p){return p?!g.includes(p):!1}}).required(v.I0.required)})};return h.Ry(d)},richtext(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},blocks(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},string(e,n){const o=ea(e,n);return h.Ry(o)},text(e,n){const o=ea(e,n);return h.Ry(o)},uid(e,n){const o=ea(e,n);return h.Ry(o)}},eo=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const d={displayName:h.Z_().test({name:"nameAlreadyUsed",message:v.I0.unique,test(l){if(!l)return!1;const u=(0,He.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),pluralName:h.Z_().test({name:"pluralNameAlreadyUsed",message:v.I0.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),singularName:h.Z_().test({name:"singularNameAlreadyUsed",message:v.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),draftAndPublish:h.O7(),kind:h.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:h.O7()};return h.Ry(d)};const Fa={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}};var aa={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Fa,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Fa,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},sa={advanced:{default(){return{sections:Ye.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Qn]},...Ye.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Na=(e,n)=>{e.forEach(o=>{if(!("sectionTitle"in o)){n[0].items.push(o);return}n.push(o)})},_a=(e,n)=>e.filter(({name:o})=>o!==n.initialData.name).map(({name:o})=>o),Ie={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:d}){const l=_a(e,i),u=na[n](l,r.attributes);return d.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[Te]}];return e.options?.base&&Na(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:o,extensions:r,...i}){const d=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:o,...i});if(e.options?.advanced&&Na(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,n,o,r,i,d){const l=e?.schema?.attributes??[],u=_a(l,i);try{let f=na[n](u,o.attributes,r,i);return d.makeValidator(["attribute",n],f,u,o.attributes,r,i)}catch(f){return console.error("Error yup build schema",f),na.default(u,o.attributes)}},form:{advanced({data:e,type:n,step:o,extensions:r,...i}){try{const d=Sa.advanced[n](e,o).sections,l=r.getAdvancedForm(["attribute",n],{data:e,type:n,step:o,...i});return{sections:d.reduce((f,g)=>(g.sectionTitle===null?f.push(g):f.push({...g,items:[...g.items,...l]}),f),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:n,step:o,attributes:r}){try{return Sa.base[n](e,o,r)}catch{return zs}}}},contentType:{schema(e,n,o,r,i,d){const l=Object.values(d).map(M=>M.schema.singularName),u=Object.values(d).map(M=>M?.schema?.pluralName??""),f=n?e.filter(M=>M!==o):e,g=n?l.filter(M=>{const{schema:O}=d[o];return O.singularName!==M}):l,p=n?u.filter(M=>{const{schema:O}=d[o];return O.pluralName!==M}):u,m=Object.values(d).map(M=>M?.schema?.collectionName??""),A=n?m.filter(M=>{const{schema:O}=d[o],I=O.pluralName,T=O.collectionName;return M!==I||M!==T}):m,C=eo({usedContentTypeNames:f,reservedModels:r.models,singularNames:g,pluralNames:p,collectionNames:A});return i.makeValidator(["contentType"],C,f,r.models,g,p)},form:{base({actionType:e}){return e==="create"?aa.base.create():aa.base.edit()},advanced({extensions:e}){const n=aa.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...o]}]}}}},component:{schema(e,n,o,r=!1,i=null){const d=r?e.filter(l=>l!==i):e;return qs(d,o.models,n)},form:{advanced(){return{sections:Ye.advanced()}},base(){return{sections:Ye.base()}}}},addComponentToDynamicZone:{form:{advanced(){return sa.advanced.default()},base({data:e}){return e?.createComponent??!1?sa.base.createComponent():sa.base.default()}}},editCategory:{schema(e,n){const o=e.filter(r=>r!==n.name).map(r=>r.toLowerCase());return ks(o)},form:{advanced:()=>({sections:[]}),base(){return Vs.base}}}},Wa=s(98178),to=s(61738);const no=()=>e=>e[`${$.Z}_formModal`]||to.E;var ao=()=>(0,Wa.P1)(no(),e=>e),so=(e,n)=>{const o=b()(e,["contentType","schema","kind"],"");return o==="singleType"||o===n.kind?!0:b()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const f=(0,Kn.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(f)}).length===0},oo=(e="",n,o)=>{const r=["text","email","richtext","password","blocks","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",d=o.includes(n),l=!i&&!d;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},Ka=e=>e.reduce((n,o)=>{const r=o.items.reduce((i,d)=>(d.name&&i.push(d.name),i),[]);return[...n,...r]},[]),io=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:d,attributeType:l,customFieldUid:u,categoryName:f,dynamicZoneTarget:g,forTarget:p,modalType:m,isOpen:A,showBackLink:C,kind:M,step:O,targetUid:I}=(0,ve.Z)(),T=(0,v.mZ)().get(u),D=(0,t.useRef)(),L=(0,t.useMemo)(ao,[]),x=(0,Ce.I0)(),z=(0,v.lm)(),ne=(0,Ce.v9)(F=>L(F),Ce.wU),{push:de}=(0,Q.k6)(),{trackUsage:B}=(0,v.rS)(),{formatMessage:re}=(0,N.Z)(),{getPlugin:k}=(0,v.j1)(),H=k($.Z).apis.forms,G=H.components.inputs,{addAttribute:Ze,addCustomFieldAttribute:ae,addCreatedComponentToDynamicZone:K,allComponentsCategories:Z,changeDynamicZoneComponents:oa,contentTypes:Qe,components:Ct,createSchema:Xe,deleteCategory:ia,deleteData:kt,editCategory:ra,editCustomFieldAttribute:la,submitData:da,modifiedData:se,nestedComponents:ca,setModifiedData:ua,sortedContentTypesList:ma,updateSchema:Vt,reservedNames:xe}=(0,pe.Z)(),{componentToCreate:Zt,formErrors:Re,initialData:X,isCreatingComponentWhileAddingAField:Rt,modifiedData:y}=ne,P=p==="contentType"||p==="component"?[p]:[p,I];(0,t.useEffect)(()=>{if(A){const F=ma.filter(Lt);m==="editCategory"&&ua(),i==="edit"&&m==="attribute"&&p==="contentType"&&B("willEditFieldOfContentType");const me=[...P,"schema","attributes"],fe=lt(b()(se,me,[]),g)||null;if(m==="editCategory"&&i==="edit"&&x({type:q._H,modalType:m,actionType:i,data:{name:f}}),m==="contentType"&&i==="create"&&x({type:q._H,modalType:m,actionType:i,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&i==="edit"){const{displayName:W,draftAndPublish:J,kind:ye,pluginOptions:ie,pluralName:Jo,reviewWorkflows:wo,singularName:ei}=b()(se,[...P,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});x({type:q._H,actionType:i,modalType:m,data:{displayName:W,draftAndPublish:J,kind:ye,pluginOptions:ie,pluralName:Jo,reviewWorkflows:wo??!1,singularName:ei}})}if(m==="component"&&i==="edit"){const W=b()(se,P,{});x({type:q._H,actionType:i,modalType:m,data:{displayName:W.schema.displayName,category:W.category,icon:W.schema.icon}})}if(m==="addComponentToDynamicZone"&&i==="edit"){const W={...fe,components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}};x({type:q.VZ,attributeToEdit:W})}if(l){const J={...lt(b()(se,me,[]),d),name:d};l==="component"&&i==="edit"&&(J.repeatable||Ot()(J,"repeatable",!1)),x(m==="customField"?{type:q.OY,customField:T,isEditing:i==="edit",modifiedDataToSetForEditing:J,forTarget:p}:{type:q.S0,attributeType:l,nameToSetForRelation:b()(F,["0","title"],"error"),targetUid:b()(F,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:J,step:O,forTarget:p})}}else x({type:q.c2})},[i,d,l,f,g,p,A,m]);const U=m==="contentType",Y=m==="component",oe=m==="attribute",ue=m==="customField",Oe=l==="component"&&oe,Ne=i==="create",Se=b()(y,"createComponent",!1)||Rt,Je=O==="1",wa=m==="editCategory",es=m==="chooseAttribute",pa=(0,He.E)(y.displayName||""),ga=b()(se,[...P,"schema","attributes"],null),_o=async()=>{let F;const me=Se&&O==="1"?b()(y,"componentToCreate",{}):y;if(U)F=Ie.contentType.schema(Object.keys(Qe),i==="edit",b()(se,[...P,"uid"],null),xe,H,Qe);else if(Y)F=Ie.component.schema(Object.keys(Ct),y.category||"",xe,i==="edit",b()(se,[...P,"uid"],null),H);else if(ue)F=Ie.customField.schema({schemaAttributes:b()(se,[...P,"schema","attributes"],[]),attributeType:T.type,reservedNames:xe,schemaData:{modifiedData:y,initialData:X},ctbFormsAPI:H,customFieldValidator:T.options?.validator});else if(Oe&&Se&&Je)F=Ie.component.schema(Object.keys(Ct),b()(y,"componentToCreate.category",""),xe,H);else if(oe&&!Je){const fe=l==="relation"?"relation":y.type;let W=[];if(fe==="relation"){const J=b()(y,["target"],null);W=b()(Qe,[J,"schema","attributes"],[]).filter(({name:ie})=>i!=="edit"?!0:ie!==X.targetAttribute)}F=Ie.attribute.schema(b()(se,P,{}),fe,xe,W,{modifiedData:y,initialData:X},H)}else if(wa)F=Ie.editCategory.schema(Z,X,H);else if(Je&&Se)F=Ie.component.schema(Object.keys(Ct),b()(y,"componentToCreate.category",""),xe,H);else return;await F.validate(me,{abortEarly:!1})},ts=(0,t.useCallback)(({target:{name:F,value:me,type:fe,...W}})=>{const J=["enumName","max","min","maxLength","minLength","regex","default"];let ye;J.includes(F)&&me===""?ye=null:ye=me;const ie=Object.assign({},Re);F==="max"&&delete ie.min,F==="maxLength"&&delete ie.minLength,delete ie[F],x({type:q.Ey,errors:ie}),x({type:q.P0,keys:F.split("."),value:ye,...W})},[x,Re]),ge=async(F,me=Ne)=>{F.preventDefault();try{await _o(),$o(me);const fe=p==="components"?I:pa;if(U)if(Ne)Xe({...y,kind:M},m,pa),de({pathname:`/plugins/${$.Z}/content-types/${pa}`}),n({forTarget:p,targetUid:fe});else{so(se,y)?(e(),da(y)):z({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(Ne){const W=(0,He.N)(y.displayName,y.category),{category:J,...ye}=y;Xe(ye,"component",W,J),de({pathname:`/plugins/${$.Z}/component-categories/${J}/${W}`}),n({forTarget:p,targetUid:W})}else{Vt(y,m,I),e();return}else if(wa){if(At()(X.name)===At()(y.name)){e();return}ra(X.name,y);return}else if(ue){const W={attributeToSet:{...y,customField:u},forTarget:p,targetUid:I,initialAttribute:X};i==="edit"?la(W):ae(W),me?n({forTarget:p,targetUid:fe}):e();return}else if(oe&&!Se){if(l==="dynamiczone"){Ze(y,p,I,i==="edit",X),Ne?(x({type:q.I}),D.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:y.name})):e();return}if(!Oe){Ze(y,p,I,i==="edit",X),me?n({forTarget:p,targetUid:fe}):e();return}if(Je){r(),x({type:q.yC,forTarget:p});return}Ze(y,p,I,i==="edit",X,!0),me?n({forTarget:p,targetUid:I}):e()}else if(oe&&Se){if(Je){B("willCreateComponentFromAttributesModal"),x({type:q.oF,forTarget:p}),r();return}const{category:W,type:J,...ye}=Zt,ie=(0,He.N)(Zt.displayName,W);Xe(ye,J,ie,W,Se),Ze(y,p,I,!1),x({type:q.c2}),me?n({forTarget:"components",targetUid:ie}):e();return}else{if(Je)if(Se){const{category:W,type:J,...ye}=y.componentToCreate,ie=(0,He.N)(y.componentToCreate.displayName,W);Xe(ye,J,ie,W,Se),K(g,[ie]),n({forTarget:"components",targetUid:ie})}else oa(g,y.components),e();else console.error("This case is not handled");return}x({type:q.c2})}catch(fe){const W=(0,v.CJ)(fe);console.log({err:fe,errors:W}),x({type:q.Ey,errors:W})}},Wo=()=>{window.confirm(re({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),x({type:q.c2}))},ns=()=>{Pe()(y,X)?(e(),x({type:q.c2})):Wo()},Ko=F=>{if(F==="advanced"){if(U){B("didSelectContentTypeSettings");return}p==="contentType"&&B("didSelectContentTypeFieldSettings")}},$o=F=>{m==="attribute"&&p==="contentType"&&l!=="dynamiczone"&&F&&B("willAddMoreFieldToContentType")},jo=()=>!!(m==="editCategory"||m==="component"||tn()(y,"createComponent")),zo=oo(p,I,ca);if(!A||!m)return null;const as=b()(Ie,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ko=p==="components"||p==="component",ss={customInputs:{"allowed-types-select":sn,"boolean-radio-group":Zn,"checkbox-with-number-field":On,"icon-picker":fs,"content-type-radio-group":Pn,"radio-group":ft,relation:xs,"select-category":Us,"select-component":Fs,"select-components":Ns,"select-default-boolean":bn,"select-number":Ws,"select-date":_s,"toggle-draft-publish":Dn,"text-plural":Es,"text-singular":Ks,"textarea-enum":js,...G},componentToCreate:Zt,dynamicZoneTarget:g,formErrors:Re,isAddingAComponentToAnotherComponent:ko,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:b()(se,[...P,"schema","displayName"],""),modifiedData:y,naturePickerType:p,isCreating:Ne,targetUid:I,forTarget:p},os=as.advanced({data:y,type:l,step:O,actionType:i,attributes:ga,extensions:H,forTarget:p,contentTypeSchema:se.contentType||{},customField:T}).sections,is=as.base({data:y,type:l,step:O,actionType:i,attributes:ga,extensions:H,forTarget:p,contentTypeSchema:se.contentType||{},customField:T}).sections,Vo=Ka(is),qo=Ka(os),Go=Object.keys(Re).some(F=>Vo.includes(F)),Ho=Object.keys(Re).some(F=>qo.includes(F)),Yo=b()(Qe,[I,"schema","kind"]),Qo=()=>i==="edit"&&ga.every(({name:F})=>F!==y?.name),Xo=()=>{Qo()&&B("didEditFieldNameOnContentType")};return t.createElement(Jt.P,{onClose:ns,labelledBy:"title"},t.createElement(Sn,{actionType:i,attributeName:d,categoryName:f,contentTypeKind:M,dynamicZoneTarget:g,modalType:m,forTarget:p,targetUid:I,attributeType:l,customFieldUid:u,showBackLink:C}),es&&t.createElement(Tn,{attributes:zo,forTarget:p,kind:Yo||"collectionType"}),!es&&t.createElement("form",{onSubmit:ge},t.createElement(Pt.f,null,t.createElement(Dt.v,{label:"todo",id:"tabs",variant:"simple",ref:D,onTabChange:F=>{F===1&&Ko("advanced")}},t.createElement(S.k,{justifyContent:"space-between"},t.createElement(Un,{actionType:i,forTarget:p,kind:M,step:O,modalType:m,attributeType:l,attributeName:d,customField:T}),t.createElement(Ae.m,null,t.createElement(Ae.O,{hasError:Go},re({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(Ae.O,{hasError:Ho,disabled:jo()},re({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(rt.i,null),t.createElement(_.x,{paddingTop:6},t.createElement(Le.n,null,t.createElement(Le.x,null,t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Ia,{form:is,formErrors:Re,genericInputProps:ss,modifiedData:y,onChange:ts}))),t.createElement(Le.x,null,t.createElement(S.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Ia,{form:os,formErrors:Re,genericInputProps:ss,modifiedData:y,onChange:ts}))))))),t.createElement(wt.m,{endActions:t.createElement(An,{deleteCategory:ia,deleteContentType:kt,deleteComponent:kt,categoryName:X.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:y.createComponent||!1,isCreatingComponentInDz:y.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:O==="1",onSubmitAddComponentAttribute:ge,onSubmitAddComponentToDz:ge,onSubmitCreateComponent:ge,onSubmitCreateContentType:ge,onSubmitCreateDz:ge,onSubmitEditAttribute:ge,onSubmitEditCategory:ge,onSubmitEditComponent:ge,onSubmitEditContentType:ge,onSubmitEditCustomFieldAttribute:ge,onSubmitEditDz:ge,onClickFinish:Xo}),startActions:t.createElement(V.z,{variant:"tertiary",onClick:ns},re({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},te=s(98954),ro=s(41486);const lo=()=>e=>e[`${$.Z}_dataManagerProvider`]||ro.E;var co=()=>(0,Wa.P1)(lo(),e=>e),uo=s(39935),mo=s.n(uo),po=s(9086),$a=s.n(po),go=s(98978),fo=s.n(go);const yo=(e,n)=>{const o=Object.keys(e).filter(r=>{const i=b()(e,r,{}),d=b()(n,r,{}),l=b()(i,["isTemporary"],!1),u=!Pe()(i,d);return l||u});return(0,De.Z)(o)},Eo=(e,n)=>{const o=za(b()(e,"schema.attributes",[]),n),r=b()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},$a()(e.schema,"attributes"),{attributes:o})},ja=(e,n=!1)=>{const o=b()(e,"uid",null),r=za(b()(e,"schema.attributes",[]),o),i=n?{category:b()(e,"category","")}:{},d=Object.assign(i,$a()(e.schema,"attributes"),{attributes:r});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},za=(e,n)=>e.reduce((o,{name:r,...i})=>{const d=i,l=d.target===n,u=d.type==="relation",f=b()(d,"targetAttribute",null);if(!l)if(u){const g=Object.assign({},d,{targetAttribute:ka(f)});o[r]=zt(g)}else o[r]=zt(d);if(l){const g=d.target,p=Object.assign({},d,{target:g,targetAttribute:ka(f)});o[r]=zt(p)}if(d.customField){const g={...d,type:"customField"};o[r]=zt(g)}return o},{}),ka=e=>e==="-"?null:e,zt=e=>Object.keys(e).reduce((n,o)=>(e[o]!==null&&o!=="plugin"&&(n[o]=e[o]),n),{}),ho=(e,n,o,r=!1)=>yo(e,n).map(l=>{const u=b()(e,l,{});return Eo(u,o,r)}),vo=e=>fo()(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${$.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>mo()(n.title));var Va=e=>e.reduce((n,o)=>(n[o.uid]=o,n),{}),Mo=(e,n,o,r)=>{const i=n.reduce((u,f)=>{const g=b()(o,f,{});return u[f]=g,u},{});return{[r?"contentType":"component"]:e,components:i}};const To=e=>Object.keys(e).reduce((n,o)=>{const r=e[o].schema;return n[o]={...e[o],schema:{...r,attributes:bo(r.attributes)}},n},{}),bo=e=>Object.keys(e).reduce((n,o)=>(n.push({...e[o],name:o}),n),[]);var qa=To,Co=s(61730);const Zo=e=>{const n=Object.keys(e).reduce((o,r)=>{const i=b()(e,[r],{}),d=i.uid;return Ro(i)&&o.push(d),o},[]);return(0,De.Z)(n)},Ro=e=>b()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"}),Oo=e=>{const n=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],d=Po(i);return[...o,...d]},[]);return(0,De.Z)(n)},Po=e=>e.reduce((n,o)=>{const{type:r,component:i}=o;return r==="component"&&n.push(i),n},[]);var Ga=Oo,Do=(e,n)=>{const o=Object.keys(e).map(r=>b()(e,[r,...n],""));return(0,De.Z)(o)};const Ha="did-not-kill-server",Ao="server is down";function bt(e,n){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(Ao);if(!n)throw new Error(Ha);o(e)}).catch(r=>{setTimeout(()=>bt(e,r.message!==Ha).then(o),100)})})}var Lo=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);const Ya=({children:e})=>{const n=(0,Ce.I0)(),{components:o,contentTypes:r,isLoading:i,isLoadingForDataToBeSet:d,initialData:l,modifiedData:u,reservedNames:f}=(0,Ce.v9)(co()),g=(0,v.lm)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:m}=(0,v.Vu)(),{setCurrentStep:A}=(0,v.c1)(),{getPlugin:C}=(0,v.j1)(),{apis:M}=C($.Z),{autoReload:O}=(0,v.L7)(),{formatMessage:I}=(0,N.Z)(),{trackUsage:T}=(0,v.rS)(),{refetchPermissions:D}=(0,v.vn)(),{pathname:L}=(0,Q.TH)(),{onCloseModal:x}=(0,ve.Z)(),z=(0,Q.$B)(`/plugins/${$.Z}/content-types/:uid`),ne=(0,Q.$B)(`/plugins/${$.Z}/component-categories/:categoryUid/:componentUid`),de=(0,v.kY)(),{put:B,post:re,del:k}=de,ce=(0,t.useRef)();ce.current=I;const H=O,G=z!==null,Ze=G?"contentType":"component",ae=G?b()(z,"params.uid",null):b()(ne,"params.componentUid",null),K=(0,t.useRef)(),Z=G?"content-types":"components";K.current=async()=>{try{const[{data:{data:y}},{data:{data:P}},{data:U}]=await Promise.all(["components","content-types","reserved-names"].map(Ne=>de.get(`/${$.Z}/${Ne}`))),Y=Va(y),oe=qa(Y),ue=Va(P),Oe=qa(ue);n({type:te.Id,components:oe,contentTypes:Oe,reservedNames:U})}catch(y){console.error({err:y}),g({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(K.current(),()=>{n({type:te.Zl})}),[]),(0,t.useEffect)(()=>{!i&&ae&&Vt()},[i,L,ae]),(0,t.useEffect)(()=>{O||g({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[O,g]);const oa=(y,P,U,Y=!1,oe,ue=!1)=>{const Oe=Y?te.JO:te.gz;n({type:Oe,attributeToSet:y,forTarget:P,targetUid:U,initialAttribute:oe,shouldAddComponentToData:ue})},Qe=({attributeToSet:y,forTarget:P,targetUid:U,initialAttribute:Y})=>{n({type:te.Ir,attributeToSet:y,forTarget:P,targetUid:U,initialAttribute:Y})},Ct=({attributeToSet:y,forTarget:P,targetUid:U,initialAttribute:Y})=>{n({type:te.Ly,attributeToSet:y,forTarget:P,targetUid:U,initialAttribute:Y})},Xe=(y,P)=>{n({type:te.Uu,dynamicZoneTarget:y,componentsToAdd:P})},ia=(y,P,U,Y,oe=!1)=>{const ue=P==="contentType"?te.Sh:te.VR;n({type:ue,data:y,componentCategory:Y,schemaType:P,uid:U,shouldAddComponentToData:oe})},kt=(y,P)=>{n({type:te.o_,dynamicZoneTarget:y,newComponents:P})},ra=(y,P,U="")=>{const Y=y==="components"?te.lw:te.ai;y==="contentType"&&T("willDeleteFieldOfContentType"),n({type:Y,mainDataKey:y,attributeToRemoveName:P,componentUid:U})},la=async y=>{try{const P=`/${$.Z}/component-categories/${y}`,U=window.confirm(I({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));x(),U&&(p(),await k(P),await bt(!0),await m(),await X())}catch(P){console.error({err:P}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},da=async()=>{try{const y=`/${$.Z}/${Z}/${ae}`,P=b()(u,[Ze,"isTemporary"],!1),U=window.confirm(I({id:(0,c.Z)(`popUpWarning.bodyMessage.${G?"contentType":"component"}.delete`)}));if(x(),U){if(P){n({type:te.Ap});return}p(),await k(y),await bt(!0),await m(),await X()}}catch(y){console.error({err:y}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},se=async(y,P)=>{try{const U=`/${$.Z}/component-categories/${y}`;x(),p(),await B(U,P),await bt(!0),await m(),await X()}catch(U){console.error({err:U}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},ca=()=>{const y=Object.assign({},o,u.components);if(!G){const U=b()(u,"component",{});Ot()(y,b()(U,["uid"],""),U)}const P=Zo(y);return(0,De.Z)(P)},ua=()=>{const y=Ga(o),P=Ga(u.components||{});return(0,De.Z)([...P,...y])},ma=(y,P)=>{n({type:te.NG,dzName:y,componentToRemoveIndex:P})},Vt=()=>{const y=G?r:o,P=b()(y,ae,{schema:{attributes:[]}}),U=(0,Co.Z)(P.schema.attributes,o),Y=Mo(P,U,o,G),oe=b()(P,"isTemporary",!1)&&Yt()(b()(P,"schema.attributes",[]))===0;n({type:te.xx,schemaToSet:Y,hasJustCreatedSchema:oe})},xe=(0,t.useMemo)(()=>{const y=G?r:o;return ae==="create-content-type"?!1:!Object.keys(y).includes(ae)&&!i},[o,r,ae,G,i]),Zt=(0,t.useMemo)(()=>{const y=Object.keys(r).filter(P=>b()(r,[P,"schema","visible"],!0)).sort();return b()(y,"0","create-content-type")},[r]);if(xe)return t.createElement(Q.l_,{to:`/plugins/${$.Z}/content-types/${Zt}`});const Re=async y=>{try{const P=b()(u,[Ze,"isTemporary"],!1),U={components:ho(u.components,o,ae,P)};if(G){const ue=M.forms.mutateContentTypeSchema({...ja(u.contentType),...y},l.contentType);if(!Lo(ue)){g({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}U.contentType=ue,T("willSaveContentType")}else U.component=ja(u.component,!0),T("willSaveComponent");p();const Y=`/${$.Z}/${Z}`,oe=P?Y:`${Y}/${ae}`;if(P?await re(oe,U):await B(oe,U),await bt(!0),await m(),P&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&A("contentTypeBuilder.success"),G){T("didSaveContentType");const ue=b()(U,["contentType","schema","name"],""),Oe=b()(l,["contentType","schema","name"],"");!P&&ue!==Oe&&T("didEditNameOfContentType")}else T("didSaveComponent");await X()}catch(P){G||T("didNotSaveComponent"),console.error({err:P.response}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},X=async()=>{await D()},Rt=(y,P,U)=>{n({type:te.bi,data:y,schemaType:P,uid:U})};return t.createElement(Xt.Z.Provider,{value:{addAttribute:oa,addCustomFieldAttribute:Qe,addCreatedComponentToDynamicZone:Xe,allComponentsCategories:Do(o,["category"]),changeDynamicZoneComponents:kt,components:o,componentsGroupedByCategory:qt()(o,"category"),componentsThatHaveOtherComponentInTheirAttributes:ca(),contentTypes:r,createSchema:ia,deleteCategory:la,deleteData:da,editCategory:se,editCustomFieldAttribute:Ct,isInDevelopmentMode:H,initialData:l,isInContentTypeView:G,modifiedData:u,nestedComponents:ua(),removeAttribute:ra,removeComponentFromDynamicZone:ma,reservedNames:f,setModifiedData:Vt,sortedContentTypesList:vo(r),submitData:Re,updateSchema:Rt}},d?t.createElement(v.dO,null):t.createElement(t.Fragment,null,e,H&&t.createElement(io,null)))};Ya.propTypes={children:a().node.isRequired};var Io=(0,t.memo)(Ya),xo=s(89798);const Qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Xa=({children:e})=>{const[n,o]=(0,t.useState)(Qa),{trackUsage:r}=(0,v.rS)(),i=({attributeType:T,customFieldUid:D})=>{o(L=>({...L,actionType:"create",modalType:"customField",attributeType:T,customFieldUid:D}))},d=({attributeType:T,step:D})=>{n.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:T}),o(L=>({...L,actionType:"create",modalType:"attribute",step:D,attributeType:T,showBackLink:!0}))},l=({dynamicZoneTarget:T,targetUid:D})=>{o(L=>({...L,dynamicZoneTarget:T,targetUid:D,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:T,targetUid:D})=>{o(L=>({...L,actionType:"create",forTarget:T,targetUid:D,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},f=T=>{o(D=>({...D,...T,isOpen:!0}))},g=T=>{o(D=>({...D,categoryName:T,actionType:"edit",modalType:"editCategory",isOpen:!0}))},p=({forTarget:T,targetUid:D,attributeName:L,attributeType:x,customFieldUid:z})=>{o(ne=>({...ne,modalType:"customField",customFieldUid:z,actionType:"edit",forTarget:T,targetUid:D,attributeName:L,attributeType:x,isOpen:!0}))},m=({forTarget:T,targetUid:D,attributeName:L,attributeType:x,step:z})=>{o(ne=>({...ne,modalType:"attribute",actionType:"edit",forTarget:T,targetUid:D,attributeName:L,attributeType:x,step:z,isOpen:!0}))},A=({modalType:T,forTarget:D,targetUid:L,kind:x})=>{o(z=>({...z,modalType:T,actionType:"edit",forTarget:D,targetUid:L,kind:x,isOpen:!0}))},C=()=>{o(Qa)},M=({forTarget:T,targetUid:D})=>{o(L=>({...L,forTarget:T,targetUid:D,modalType:"chooseAttribute"}))},O=()=>{o(T=>({...T,attributeType:"component",modalType:"attribute",step:"2"}))},I=({dynamicZoneTarget:T})=>{o(D=>({...D,dynamicZoneTarget:T,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(xo.Z.Provider,{value:{...n,onClickSelectField:d,onClickSelectCustomField:i,onCloseModal:C,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:I,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:O,onOpenModalAddField:u,onOpenModalCreateSchema:f,onOpenModalEditCategory:g,onOpenModalEditField:m,onOpenModalEditCustomField:p,onOpenModalEditSchema:A,setFormModalNavigationState:o}},e)};Xa.propTypes={children:a().node.isRequired};var So=Xa,Bo=s(63338);const Uo=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,14417)));var Fo=()=>{const{url:e}=(0,Q.$B)(),{categoryUid:n}=(0,Q.UO)();return t.createElement(t.Suspense,{fallback:t.createElement(v.dO,null)},t.createElement(Q.rs,null,t.createElement(Q.AW,{path:`${e}/:componentUid`},t.createElement(Uo,{categoryId:n}))))};const Ja=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,14417)));var No=()=>{const{formatMessage:e}=(0,N.Z)(),n=e({id:`${$.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,v.c1)(),r=(0,t.useRef)(o);return(0,t.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),t.createElement(v.O4,{permissions:Bo._.main},t.createElement(be.q,{title:n}),t.createElement(So,null,t.createElement(Io,null,t.createElement(ee.A,{sideNav:t.createElement(ot,null)},t.createElement(t.Suspense,{fallback:t.createElement(v.dO,null)},t.createElement(Q.rs,null,t.createElement(Q.AW,{path:`/plugins/${$.Z}/content-types/create-content-type`,component:Ja}),t.createElement(Q.AW,{path:`/plugins/${$.Z}/content-types/:uid`,component:Ja}),t.createElement(Q.AW,{path:`/plugins/${$.Z}/component-categories/:categoryUid`,component:Fo})))))))}},32105:function(Be,w,s){var t=s(53728);const ee=v=>`${t.Z}.${v}`;w.Z=ee}}]);
